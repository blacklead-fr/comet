(function(m){m(window.jQuery,window,document)})(function(m,u,l){var p={addQueryArgs:function(a,d){var b,c,e;if("object"!==typeof a)return d;var f=d.indexOf("?");var g=d.indexOf("#");if(f>g)if(-1<g){var h=d.substr(g);var n=g}else-1<f&&(h=d.substr(f),n=f);else f<g&&(-1<f?(h=d.substr(f),n=f):-1<g&&(h=d.substr(g),n=g));g=d;if("number"===typeof n&&!isNaN(n)&&(g=d.substr(0,n),"string"===typeof h))for(n=h.split("?"),h=0;h<n.length;h++)if(!(-1<n[h].indexOf("#")||(f=n[h].split("&"),"object"!==typeof f||1>
f.length)))for(c=0;c<f.length;c++)if(!(0>(e=f[c].indexOf("=")))){var k=f[c].substr(0,e);a[k]=f[c].substr(e+1)}h=0;g+="?";for(b in a)n=a[b],0!==h&&(g+="&"),g+=encodeURI(b)+"="+encodeURI(n),h++;return g},isEmpty:function(a){return"string"!==typeof a||1>a.length?!0:!1},load:function(a){if("object"!==typeof a)return!1;a.action="comet_ajax";a.nonce=cometdata.nonce;return m.ajax({method:"POST",url:cometdata.ajax_url,data:a})}};var k={dialog:function(a){"object"!==typeof a&&(a={});if(!("id"in a)||p.isEmpty(a.id))return!1;
a.id=a.id.trim();var d=l.getElementById(a.id);a.header=a.header||!1;a.content=a.content||!1;a.close=a.close||{};a.close.title=a.close.title||cometdata.ui.close;a.close.icon=a.close.icon||'<span class="cico cico-x"></span>';a.done=a.done||{};a.done.target=a.done.target||!1;a.done["do"]=a.done["do"]||!1;a.done.target=p.isEmpty(a.done.target)?!1:a.done.target.trim();d&&null!==d&&"object"===typeof d&&d.remove();d=l.createElement("div");d.id=a.id;d.className="comet-dialog comet-dialogGlobal";var b='<div class="comet-dialogbox"><div class="comet-dialogHeader">'+
('<button class="comet-dialogCloseButton" title="'+a.close.title+'">'+a.close.icon+"</button>");!1!==a.header&&(b+=a.header);b+='</div><div class="comet-dialogContent">';b=!1!==a.content?b+a.content:b+cometdata.messages.unreach;d.innerHTML=b+"</div></div>";l.body.appendChild(d);b=".comet-dialogCloseButton";!1===a.done.target||p.isEmpty(a.done.target)||(b+=","+a.done.target);m(d).on("click",b,{opts:a},function(a){a.preventDefault();var b=a.data.opts;if(m(this).hasClass("comet-dialogCloseButton"))return d.remove(),
!0;if(b.done.hasOwnProperty("do")&&"function"===typeof b.done["do"]){a=b.done["do"](a,this);if(1===a)return!1;d.remove()}})},events:function(a){var d;if("object"!==typeof a||!("length"in a)||1>a.length)return!1;for(d=0;d<a.length;d++)(function(){var b=a[d];if(!("on"in b&&"trigger"in b)||"function"!==typeof b["do"])return!1;m(l).on(b.on,b.trigger,function(a){b["do"](a,this)})})(d)},dashboard:{slider:function(){return{on:"click",trigger:".comet-dashboardSlideButton","do":function(a,d){a.preventDefault();
var b=d.parentNode.parentNode,c=m(d),e;if(c.hasClass("comet-next")&&"object"===typeof b.nextSibling)c=b.nextSibling;else if(c.hasClass("comet-prev")&&"object"===typeof b.previousSibling)c=b.previousSibling;else return!1;var f=b.parentNode.children;if(!(c&&null!=c&&"object"===typeof c&&"object"===typeof f&&"length"in f)||1>f.length)return!1;for(e=0;e<f.length;e++)b=f[e],m(b).hasClass("comet-dashboardSlide")&&(b.style.display="none");c.style.display="block"}}},sidebar:{open:function(){return{on:"click",
trigger:"#comet-doSidebarOpen","do":function(a,d){a.preventDefault();var b=l.getElementById("comet-dashboardSidebar");if(!b||null==b||"object"!==typeof b)return!1;b.style.display="block"}}},close:function(){return{on:"click",trigger:"#comet-doSidebarClose","do":function(a,d){a.preventDefault();var b=l.getElementById("comet-dashboardSidebar");if(!b||null==b||"object"!==typeof b)return!1;b.style.display="none"}}}},help:function(){return{on:"click",trigger:".comet-tooltip","do":function(a,d){a.preventDefault();
var b=m(d);b.hasClass("comet-active")?b.removeClass("comet-active"):b.addClass("comet-active")}}},init:function(){var a=[];a[a.length]=this.sidebar.open();a[a.length]=this.sidebar.close();a[a.length]=this.slider();a[a.length]=this.help();k.events(a)}},myTemplates:{"new":{open:function(){return{on:"click",trigger:"#comet-newTemplate","do":function(a,d){a.preventDefault();k.dialog({id:"comet-newTemplateDialog",header:"<h4>"+cometdata.titles.newTemp+"</h4>",content:'<div id="comet-newTemplateDialogContent"><input type="text" id="comet-newTemplateName" value=""/>'+
('<button id="comet-saveNewTemplate" title="'+cometdata.ui.save+'"><span class="cico cico-arrow-right-alt"></span></button>')+"</div>"})}}},save:function(){return{on:"click",trigger:"#comet-saveNewTemplate","do":function(a,d){a.preventDefault();var b=l.getElementById("comet-newTemplateName"),c="",e;b&&null!==b&&"object"===typeof b?p.isEmpty(e="value"in b?b.value.trim():"")&&(c=cometdata.messages.noTitle):c=cometdata.messages.error;var f=d.parentNode.parentNode;if("string"===typeof c&&0<c.length)return b=
l.createElement("div"),b.setAttribute("class","comet-message comet-messageError"),b.innerHTML=c,f.appendChild(b),!1;var g='<div><span class="comet-dialogIconState comet-waitWhileIcon cico cico-spin"></span></div>';g+='<div class="comet-message">'+cometdata.messages.wait+"</div>";f.innerHTML=g;p.load({"do":"save",data:{title:e,post_type:"comet_mytemplates",content:"",style:{},meta:{},status:"publish"}}).done(function(a){"number"!==typeof(a=parseInt(a))||isNaN(a)||0>=a?(g='<div><span class="comet-dialogIconState cico cico-exclamation"></span></div>',
g+='<div class="comet-message comet-messageError">'+cometdata.messages.error+"</div>"):(a=p.addQueryArgs({post:a,action:"edit",comet:""},cometdata.edit_url),u.open(a,"_self"),g='<div><span class="comet-dialogIconState cico cico-check"></span></div>',g+='<div class="comet-message comet-messageSuccess">'+cometdata.messages.stNew+"<br>"+cometdata.messages.redirect,g+=' <a href="'+encodeURI(a)+'">'+cometdata.messages.gtep+"</a>.",g+="</div>");f.innerHTML=g})}}}},"export":{open:function(){return{on:"click",
trigger:".comet-templateExport","do":function(a,d){a.preventDefault();var b;if("object"!==typeof d.dataset||!("id"in d.dataset)||"number"!==typeof(b=parseInt(d.dataset.id))||isNaN(b))return!1;k.dialog({id:"comet-exportTemplateDialog",header:"<h4>"+cometdata.titles.expTemp+"</h4>",content:'<div id="comet-exportTemplateDialogContent"><input type="text" id="comet-exportNewTemplateName" value=""/>'+('<button id="comet-exportNewTemplate" title="'+cometdata.ui.save+'" data-id="'+b+'"><span class="cico cico-arrow-right-alt"></span></button>')+
"</div>"})}}},save:function(){return{on:"click",trigger:"#comet-exportNewTemplate","do":function(a,d){a.preventDefault();var b=l.getElementById("comet-exportNewTemplateName"),c="",e,f;b&&null!==b&&"object"===typeof b&&"object"===typeof d.dataset&&"id"in d.dataset&&"number"===typeof(f=parseInt(d.dataset.id))&&!isNaN(f)?p.isEmpty(e="value"in b?b.value.trim():"")&&(c=cometdata.messages.noTitle):c=cometdata.messages.error;var g=d.parentNode.parentNode;if("string"===typeof c&&0<c.length)return b=l.createElement("div"),
b.setAttribute("class","comet-message comet-messageError"),b.innerHTML=c,g.appendChild(b),!1;var h='<div><span class="comet-dialogIconState comet-waitWhileIcon cico cico-spin"></span></div>';h+='<div class="comet-message">'+cometdata.messages.wait+"</div>";g.innerHTML=h;p.load({"do":"get",id:f}).done(function(a){var b;"0"!=a&&"object"===typeof(b=m.parseJSON(a))&&"post_content"in b?(a=JSON.stringify({title:e,content:b.post_content,meta:"object"===typeof b.meta?b.meta:{},style:"object"===typeof b.style?
b.style:{}}),a="data:application/json;charset=utf-8,"+encodeURIComponent(a),b=l.createElement("a"),b.setAttribute("href",a),b.setAttribute("class","comet-button comet-buttonPrimary"),b.setAttribute("download",encodeURI(e)+".json"),b.innerHTML=cometdata.ui.download,h='<div><span class="comet-dialogIconState cico cico-check"></span></div>',h+='<div class="comet-message comet-messageSuccess">'+cometdata.messages.stNew,h+="</div>",g.innerHTML=h,g.appendChild(b)):(h='<div><span class="comet-dialogIconState cico cico-exclamation"></span></div>',
h+='<div class="comet-message comet-messageError">'+cometdata.messages.error+"</div>",g.innerHTML=h)})}}}},"import":{open:function(){return{on:"click",trigger:"#comet-importTemplateBtn","do":function(a,d){var b=l.getElementById("comet-importTemplateFile");if(b&&null!==b&&"object"===typeof b){var c='<div id="comet-importTemplateDialogContent">'+cometdata.messages.file;k.dialog({id:"comet-importTemplateDialog",header:"<h4>"+cometdata.titles.impTemp+"</h4>",content:c+"</div>"});b.click()}}}},save:function(){return{on:"change",
trigger:"#comet-importTemplateFile","do":function(a,d){var b=d.files,c;if("object"!==typeof b||!("length"in b)||1>b.length)return!1;var e=l.getElementById("comet-importTemplateDialogContent");var f='<ul class="comet-importTemplateItems">';var g=1;for(c=0;c<b.length;c++){var h=b[c];if(h.type.match("json")){var k=new FileReader;var t="comet-importTemplateId"+g;f+='<li id="'+t+'" class="comet-importTemplateItem">'+escape(h.name)+'<div class="comet-waitWhileIcon cico cico-spin"></div></li>';k.onload=
function(a,b){return function(a){a=JSON.parse(a.target.result);if(!("object"===typeof a&&"title"in a&&"object"===typeof a.meta&&"content"in a))return!1;a.post_type="comet_mytemplates";p.load({"do":"save",data:JSON.stringify(a)}).done(function(a){m(l.getElementById(b)).children(".comet-waitWhileIcon").attr("class","cico cico-check");a=m(l.getElementsByClassName("comet-importTemplateItem")).children(".comet-waitWhileIcon");if(!a||"object"!==typeof a||1>a.length)a=l.createElement("a"),a.href=encodeURI(cometdata.myTemplates),
a.setAttribute("class","comet-button comet-buttonPrimary"),a.innerHTML=cometdata.ui.done,e.appendChild(a)})}}(h,t);k.readAsText(h);g++}}e.innerHTML=f+"</ul>"}}}},preview:{open:function(){return{on:"click",trigger:".comet-templatePreview","do":function(a,d){a.preventDefault();var b;var c='<div id="comet-previewTemplateDialogContent">';"object"!==typeof d.dataset||"string"!==typeof d.dataset.id||"number"!==typeof(b=parseInt(d.dataset.id))||isNaN(b)?c=c+'<div><span class="comet-dialogIconState cico cico-exclamation"></span></div>'+
('<div class="comet-message comet-messageError">'+cometdata.messages.unreach+"</div>"):(b=p.addQueryArgs({comet:"mytemplates",action:"preview",id:b},cometdata.admin_url),c+='<iframe src="'+encodeURI(b)+'"></iframe>');k.dialog({id:"comet-previewTemplateDialog",header:"<h4>"+cometdata.titles.ptemp+"</h4>",content:c+"</div>"})}}}},"delete":{open:function(){return{on:"click",trigger:".comet-templateDelete","do":function(a,d){a.preventDefault();var b;null==d||!d||"object"!==typeof d||"object"!==typeof d.dataset||
"string"!==typeof d.dataset.id||"number"!==typeof(b=parseInt(d.dataset.id))||isNaN(b)?(k.myTemplates["delete"].id=!1,k.myTemplates["delete"].context=!1):(k.myTemplates["delete"].id=b,k.myTemplates["delete"].context=d);b='<div id="comet-deleteTemplateDialogContent">';b=k.myTemplates["delete"].id?b+cometdata.messages["delete"]:b+cometdata.messages.notDel;b=b+'<div class="comet-buttonset">'+('<button id="comet-doTemplateDelCan" class="comet-button comet-buttonCancel">'+cometdata.ui.cancel+"</button>");
k.myTemplates["delete"].id&&(b+='<button id="comet-doTemplateDelete" class="comet-button comet-buttonPrimary">'+cometdata.ui["delete"]+"</button>");k.dialog({id:"comet-deleteTemplateDialog",header:"<h4>"+cometdata.titles.delTemp+"</h4>",content:b+"</div></div>",done:{target:"#comet-doTemplateDelCan","do":function(a,b){a.preventDefault();return!0}}})}}},save:function(){return{on:"click",trigger:"#comet-doTemplateDelete","do":function(a,d){a.preventDefault();var b;var c=l.getElementById("comet-deleteTemplateDialogContent");
if(!c||null==c||"object"!==typeof c)return!1;var e='<div><span class="comet-dialogIconState comet-waitWhileIcon cico cico-spin"></span></div>'+cometdata.messages.wait;if(!k.myTemplates["delete"].id||"number"!==typeof(b=parseInt(k.myTemplates["delete"].id))||isNaN(b))e='<div><span class="comet-dialogIconState cico cico-exclamation"></span></div>'+('<div class="comet-message comet-messageError">'+cometdata.messages.notDel+"</div>");c.innerHTML=e;p.load({"do":"dtemplate",id:b}).done(function(a){var b=
l.getElementById("comet-deleteTemplateDialogContent");var c='<div><span class="comet-dialogIconState cico cico-check"></span></div>'+('<div class="comet-message comet-messageSuccess">'+cometdata.messages.stDel+"</div>");"false"==a?c='<div><span class="comet-dialogIconState cico cico-exclamation"></span></div>'+('<div class="comet-message comet-messageError">'+cometdata.messages.notDel+"</div>"):k.myTemplates["delete"].context.parentNode.parentNode.remove();b.innerHTML=c})}}}},init:function(){var a=
[];a[a.length]=this["new"].open();a[a.length]=this["new"].save();a[a.length]=this["export"].open();a[a.length]=this["export"].save();a[a.length]=this["import"].open();a[a.length]=this["import"].save();a[a.length]=this.preview.open();a[a.length]=this["delete"].open();a[a.length]=this["delete"].save();k.events(a)}},fonts:{add:{open:function(){return{on:"click",trigger:"#comet-addFont","do":function(a,d){a.preventDefault();var b="https://www.googleapis.com/webfonts/v1/webfonts?key="+cometdata.apikey,
c,e=[],f="";if(null==d||!d||"object"!==typeof d)return!1;if("object"===typeof cometdata.fonts&&"length"in cometdata.fonts&&0<cometdata.fonts.length){e=cometdata.fonts;f="<ul>";for(c=0;c<e.length;c++){var g=e[c];g=k.fonts.add.kit.collectItem(g);f+=g.outerHTML}f+="</ul>"}else f=cometdata.messages.selFonts;k.fonts.add.collection=e;c='<div class="comet-row col3"><div class="comet-column col1 text-left">'+('<input type="text" id="comet-addFontsSearch" placeholder="'+cometdata.ui.search+'"/>');c=c+'</div><div class="comet-column col2 text-center">'+
("<h4>"+cometdata.titles.selFonts+"</h4>");c=c+'</div><div class="comet-column col3 text-right"><div id="comet-addFontsCollection"><header id="comet-addFontsCollectionHeader">'+('<span id="comet-addFontsCollectionCount">'+e.length+"</span>"+cometdata.titles.fonts);c=c+'</header><main id="comet-addFontsCollectionContent"><div id="comet-addFontsCollectionList" class="comet-row text-center">'+f+'</div><div class="comet-row text-center">';c+='<button id="comet-addFontsFromCollection" class="comet-button comet-buttonPrimary">'+
cometdata.ui["import"]+"</button>";c+="</div>";c+="</main>";c+="</div>";c+="</div>";c+="</div>";k.dialog({id:"comet-addFontDialog",header:c,content:'<div id="comet-addFontDialogContent"><div><span class="comet-dialogIconState comet-waitWhileIcon cico cico-spin"></span></div>'+cometdata.messages.wait+"</div>"});var h=function(){l.getElementById("comet-addFontDialogContent").innerHTML='<div><span class="comet-dialogIconState cico cico-exclamation"></span></div>'+('<div class="comet-message comet-messageError">'+
cometdata.messages.unreach+"</div>")};m.get(b,function(a){if("object"!==typeof a||"error"in a||"object"!==typeof a.items||!("length"in a.items)||1>a.items.length)return h(),!1;k.fonts.add.fonts=a.items;k.fonts.add.map();m(".comet-dialogContent").on("scroll",function(a){a=this.clientHeight;var b=l.getElementsByClassName("comet-defer"),c,d;if(b&&"object"===typeof b&&!(1>b.length))for("object"!==typeof k.fonts.add._loaded&&(k.fonts.add._loaded={}),c=0;c<b.length;c++){var e=b[c];if(!("object"!==typeof e||
"object"!==typeof e.dataset||"string"!==typeof(d=e.dataset.font)||1>d.length)){var f=e.getBoundingClientRect();f.top<=a&&0<=f.top+f.height&&(e=m(e),f=e.children("h4.comet-listFontTitle").text(),k.fonts.add._loaded[f]=f,k.fonts.add.style(d.trim()),e.removeClass("comet-defer"))}}})}).fail(function(){h()})}}},style:function(a){var d=l.createElement("link");d.href="https://fonts.googleapis.com/css?family="+a;d.rel="stylesheet";l.head.appendChild(d)},map:function(){var a,d,b,c;if(!("fonts"in k.fonts.add))return!1;
var e="object"===typeof k.fonts.add._loaded?k.fonts.add._loaded:{};var f=k.fonts.add.fonts;var g=b="";for(a=d=0;a<f.length;a++){var h=f[a];if("object"===typeof h&&"family"in h){var n=h.family;var m="";if("object"===typeof h.variants&&0<h.variants.length){var p=0;m+='<select class="comet-listFontWeight">';for(c=0;c<h.variants.length;c++){var q=h.variants[c];switch(q){case "100":q="Thin";var r=100;break;case "200":q="Extra-Light";r=200;break;case "300":q="Light";r=300;break;case "regular":case "400":q=
"Regular";r=400;break;case "500":q="Medium";r=500;break;case "600":q="Semi-Bold";r=600;break;case "700":q="Bold";r=700;break;case "800":q="Extra-Bold";r=800;break;case "900":q="Heavy";r=900;break;default:r=q=null}null!==q&&null!==r&&(n=0===p?n+":":n+",",n+=r,m+='<option value="'+r+'">'+q+" "+r+"</option>",p++)}m+="<select>"}p="comet-listFont";e.hasOwnProperty(h.family)||(100>d?(0!==d&&(g+="|"),e[h.family]=h.family,g+=n,d++):p+=" comet-defer");b+='<div class="'+p+'" data-font="'+n+'">';b+='<h4 class="comet-listFontTitle">'+
h.family+"</h4>";b+='<div class="comet-listFontControls">';b+=m;b+='<button class="comet-listFontSelect comet-button comet-buttonPrimary" title="'+cometdata.ui.select+'">+</button>';b+="</div>";b+='<div class="comet-listFontPreview" style="font-family:\''+h.family+"';\">";b+="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis tempus maximus nunc eget fermentum.";b+="</div>";b+="</div>"}}0<g.length&&k.fonts.add.style(g);k.fonts.add._loaded=e;l.getElementById("comet-addFontDialogContent").innerHTML=
b},change:function(){return{on:"change",trigger:".comet-listFontWeight","do":function(a,d){a.preventDefault();var b=parseInt(d.value),c,e;switch(b){case 100:case 200:case 300:case 400:case 500:case 600:case 700:case 800:case 900:var f=d.parentNode.parentNode;f=f.children;if("object"!==typeof f||1>f.length)break;for(e=0;e<f.length;e++)(c=f[e])&&"object"===typeof c&&m(c).hasClass("comet-listFontPreview")&&(c.style.fontWeight=b);break;default:return!1}}}},search:function(){return{on:"input propertychange",
trigger:"#comet-addFontsSearch","do":function(a,d){a.preventDefault();var b=l.getElementsByClassName("comet-listFontTitle"),c=d.value.toLowerCase().trim(),e;if(!(b&&"object"===typeof b&&"length"in b)||1>b.length)return!1;for(e=0;e<b.length;e++){var f=b[e];var g=f.textContent.toLowerCase().trim();""!==c&&""!==g&&-1==g.search(c)?f.parentNode.style.display="none":f.parentNode.style.display="inline-block"}}}},kit:{collectItem:function(a){a="<span>"+a+'</span><button class="comet-aFCLItemDelete comet-button cico cico-x"></button>';
var d=l.createElement("li");d.innerHTML=a;return d}},select:function(){return{on:"click",trigger:".comet-listFontSelect","do":function(a,d){a.preventDefault();var b=[];var c=!1;var e=d.parentNode;"object"===typeof k.fonts.add.collection&&(b=k.fonts.add.collection);var f=function(a,b){var c=a.children,d,e;for(d=0;d<c.length;d++)if((e=c[d])&&"object"===typeof e&&m(e).hasClass(b))return e};var g=f(e.parentNode,"comet-listFontTitle").textContent.trim();e=f(e,"comet-listFontWeight").value.trim();g=g+":"+
e;for(e=0;e<b.length;e++)if(f=b[e],g===f){c=!0;break}if(!c&&(c=l.getElementById("comet-addFontsCollectionList"))&&"object"===typeof c){if("object"===typeof c.children&&"length"in c.children&&0<c.children.length)for(e=0;e<c.children.length;e++)if(f=c.children[e],"ul"===f.nodeName.toLowerCase()){var h=f;break}e=k.fonts.add.kit.collectItem(g);"object"!==typeof h?c.innerHTML="<ul>"+e.outerHTML+"</ul>":h.appendChild(e);b.push(g);k.fonts.add.collection=b;l.getElementById("comet-addFontsCollectionCount").innerHTML=
b.length}}}},"delete":function(){return{on:"click",trigger:".comet-aFCLItemDelete","do":function(a,d){a.preventDefault();var b=d.parentNode,c=b.parentNode.parentNode,e,f;if(b&&"object"===typeof b&&"object"===typeof(e=k.fonts.add.collection)&&"length"in e&&!(1>e.length)){if("object"===typeof d.previousSibling&&"span"===d.previousSibling.nodeName.toLowerCase())var g=d.previousSibling;else if("object"===typeof d.nextSibling&&"span"===d.nextSibling.nodeName.toLowerCase())g=d.nextSibling;else return;g=
g.textContent;for(f=0;f<e.length;f++){var h=e[f];if(g.toLowerCase()===h.toLowerCase()){e.splice(f,1);break}}b.parentNode.removeChild(b);k.fonts.add.collection=e;l.getElementById("comet-addFontsCollectionCount").innerHTML=e.length;0>=e.length&&(c.innerHTML=cometdata.messages.selFonts)}}}},toggle:function(){return{on:"click",trigger:"#comet-addFontsCollectionHeader","do":function(a,d){a.preventDefault();var b=d.parentNode,c=b.className,e=!1,f;if("string"===typeof c&&(c=c.trim())&&0<c.length&&(c=c.split(" "),
0<c.length)){var g=[];for(f=0;f<c.length;f++){var h=c[f];"comet-active"===h?e=!0:g.push(h)}e||g.push("comet-active");b.setAttribute("class",g.join(" "));return}b.setAttribute("class","comet-active")}}},"import":function(){return{on:"click",trigger:"#comet-addFontsFromCollection","do":function(a,d){a.preventDefault();var b=m(d),c;if(b.hasClass("comet-active")||"object"!==typeof(c=k.fonts.add.collection)||!("length"in c)||1>c.length)return!1;b.addClass("comet-active");d.innerHTML='<span class="comet-waitWhileIcon cico cico-spin"></span>';
p.load({"do":"sfonts",data:c}).done(function(a){var e=l.getElementById("comet-mapFonts"),g;a=parseInt(a);if(!isNaN(a)&&1===a&&e&&null!=e&&"object"===typeof e){var h="";for(a=0;a<c.length;a++){var k=c[a];k=k.split(":");if("string"===typeof k[0]&&"number"===typeof(g=parseInt(k[1]))&&!isNaN(g)){switch(g){case 100:case 200:case 300:case 400:case 500:case 600:case 700:case 800:case 900:break;default:continue}h+="<li><h4>"+k[0]+" "+g+"</h4>";h+='<p style="font-family:'+k[0]+";font-weight:"+g+';">';h+="Lorem ipsum dolor sit amet, consectetur adipiscing elit.";
h+="</p>";h+="</li>"}}e.innerHTML=h}b.removeClass("comet-active");d.innerHTML=cometdata.ui["import"]})}}}},init:function(){var a=[];a[a.length]=this.add.open();a[a.length]=this.add.change();a[a.length]=this.add.search();a[a.length]=this.add.select();a[a.length]=this.add["delete"]();a[a.length]=this.add.toggle();a[a.length]=this.add["import"]();k.events(a)}}};m(function(){k.dashboard.init();k.myTemplates.init();k.fonts.init()})});