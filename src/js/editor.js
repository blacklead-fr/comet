!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";var a=n(4),i=n(2);n(1);const r={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e},isNumber:function(e){return"number"==typeof e},isBool:function(e){return"boolean"==typeof e},isFunction:function(e){return"function"==typeof e},isSet:function(e){return void 0!==e},isArray:function(e,t){return t=!!this.isSet(t)&&(!!(this.isNumber(t=parseInt(t))&&!isNaN(t)&&t>0)&&t),Array.isArray(e)&&(t&&e.length>=t||!t)},trim:function(e){const t=typeof e;var n,a="";return"string"===t?e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):("object"===t&&"str"in e&&(a=e.str.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),"string"==typeof e.char&&(n="]"===e.char?"\\]":n,n="\\"===e.char?"\\\\":n,a.replace(new RegExp("^["+n+"]+|["+n+"]+$","g"),""))),a)},isEmpty:function(e){switch(e){case"":case"undefined":case"null":case"0":case 0:case!1:case null:case 0:return!0;default:return!r.isSet(e)&&!r.isArray(e,1)&&isNaN(e)}},isStringEmpty:function(e){const t=r.isString(e);return!t||t&&r.trim(e).length<1},capitalize:function(e){return r.isStringEmpty(e)?"":r.trim(e).charAt(0).toUpperCase()+e.slice(1)},escUrl:function(e){return this.isStringEmpty(e=this.trim(e.toString()))?e:(0!==e.indexOf("mailto:")&&(e=function(e,t){var n;if("object"==typeof e)for(n in e)t=t.replace(e[n],"");return t}(["%0d","%0a","%0D","%0A"],e)),e=e.replace("&","&#038;").replace("'","&#039;"),encodeURI(e))},getVideo:function(e,t){const n=e;var a;switch(t){case"vimeo":case"VIMEO":if(a=/(https?)?:\/\/(www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|)(\d+)(?:|\/\?)/.exec(e),r.isString(a[5]))return a[5];break;case"youtube":case"YOUTUBE":if(/(>|<)/gi,e=e.replace(/(>|<)/gi,"").split(/(vi\/|v=|\/v\/|youtu\.be\/|\/embed\/)/),r.isString(e[2])&&(a=e[2].split(/[^0-9a-z_\-]/i),r.isString(a[0])))return a[0]}return n},stripTags:function(e,t){return r.isString(e)?(t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?e:""})):""},stripOnly:function(e,t){return r.isString(e)?(t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),e.replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(e,n){return t.indexOf("<"+n.toLowerCase()+">")>-1?"":e})):""},toClass:function(e){var t,n="";if(r.isString(e))return e.replace(/^[^a-z\-_]*/gi,"").replace(/[^a-z0-9\-_]*/gi,"");if(r.isArray(e,1)){for(t in e)n+=r.toClass(e[t])+" ";return r.trim(n)}return""},extend:function(e){const t=arguments;var n,a,i;for(e=r.isObject(e)?e:{},n=1;n<t.length;n++)if(a=t[n])for(i in a)a.hasOwnProperty(i)&&(r.isObject(a[i])?e[i]=r.extend(e[i],a[i]):e[i]=a[i]);return e},getParameters:function(){const e={};var t,n,a;if(window.location.search.length<1)return{};for(n=0,a=window.location.search.substr(1).split("&");n<a.length;n++)t=a[n].split("="),e[unescape(t[0])]=t.length>1?unescape(t[1]):"";return e},getSvgSets:function(){const e=Object(a.a)().get("svgSets");return r.isObject(e)?e:{}},getPost:function(){const e=Object(a.a)().get("post");return r.isObject(e)?e:{}},getPostMeta:function(){const e=r.getPost();return r.isObject(e.meta)?e.meta:{}},getLib:function(){const e=Object(a.a)().get("lib");return r.isObject(e)?e:{}},getSettings:function(){const e=Object(a.a)().get("settings");return r.isObject(e)?e:{}},getSettingsFrom:function(e){const t=r.getSettings();return!!(!r.isStringEmpty(e)&&["section","row","column","elements"].indexOf(e=r.trim(e))>-1&&r.isObject(t[e]))&&t[e]},getElements:function(){return r.getSettingsFrom("elements")},getElement:function(e){const t=r.getElements();return!(r.isStringEmpty(e)||!r.isObject(t[e=r.trim(e)]))&&t[e]},getNode:function(e){const t=Object(a.a)();return!r.isStringEmpty(e)&&["editor","frame","cockpit","sidebar","generalSettings"].indexOf(e=r.trim(e))>-1&&t.get(e)},foreachItem:function(e,t){var n,a,s="";if(!(r.isObject(e)&&r.isObject(e.el)&&r.isObject(e.items)&&r.isFunction(t)))return!1;if(r.isStringEmpty(e.el._items)||!r.isArray(n=i.a.ids(e.el._items,"array"),1))return!1;for(a=0;a<n.length;a++)r.isObject(e.items[n[a]])&&(s+=t(n[a],e.items[n[a]]));return s},getAllowedTags:function(e){const t="<br><sub><sup><span><b><strong><i><em><u><ins><del><a><strike>";return["p","h1","h2","h3","h4","h5","h6","span","caption"].indexOf(e)>-1?t:["code","pre","blockquote"].indexOf(e)>-1?t+"<p><h1><h2><h3><h4><h5><h6><code><pre>":["legend","label"].indexOf(e)>-1?"":t+"<div><article><section><caption><img><figure><aside><svg><g><symbol>"},addQueryArgs:function(e,t){var n,a,i,s,c,o,l,u,d,m,p,b,f=null;if(!r.isString(t))return"";if(t=r.trim(r.stripTags(t)),!r.isObject(e))return t;if((b=t.indexOf("?"))>(p=t.indexOf("#"))?p>-1?(c=t.substr(p),f=p):b>-1&&(c=t.substr(b),f=b):b<p&&(b>-1?(c=t.substr(b),f=b):p>-1&&(c=t.substr(p),f=p)),s=t,null!==f&&(s=t.substr(0,f),"string"==typeof c))for(o=c.split("?"),l=0;l<o.length;l++)if(!(o[l].indexOf("#")>-1||"object"!=typeof(u=o[l].split("&"))||u.length<1))for(d=0;d<u.length;d++)(m=u[d].indexOf("="))<0||(e[u[d].substr(0,m)]=u[d].substr(m+1));for(n in i=0,s+="?",e)a=e[n],0!==i&&(s+="&"),s+=encodeURI(n)+"="+encodeURI(a),i++;return s}};t.a=r},function(e,t,n){"use strict";var a=n(3),i=n(0),r=n(10);t.a=function(e){const t=e,n={},s={decode:function(e){var t,n;return!(!i.a.isString(e)||i.a.isStringEmpty(e=i.a.trim(e)))&&(t=e.charAt(0),n=i.a.trim(e.substring(1)),"."===t?{type:"class",str:n}:"#"===t&&{type:"id",str:n})},insert:function(a,r){const s=e;var c,o,l;if(!i.a.isString(a)||i.a.isStringEmpty(a=i.a.trim(a))||n.isView())return!1;if(["beforebegin","afterbegin","beforeend","afterend"].indexOf(a)<0)return!1;function u(){return i.a.isStringEmpty(r)?(e=r,n.isNode()?((e=s).insertAdjacentElement(a,r),!0):(e=t,!1)):(e.insertAdjacentHTML(a,i.a.trim(r)),!0)}if(n.isNode())return u();if(c=e,!i.a.isObject(c)||!i.a.isArray(c))return!1;for(l in c)o=c[l],e=o,n.isNode()?(u(),e=s):e=s},size:function(t,r){var s,c,o;if(i.a.isStringEmpty(t)||["width","height"].indexOf(t=i.a.trim(t).toLowerCase())<0)return!1;switch(o="width"===t,r){case-2:case"-2":case"real":case"REAL":r=-2;break;case-1:case"-1":case"padding":case"PADDING":r=-1;break;case 1:case"1":case!0:case"true":case"margin":case"MARGIN":r=1;break;default:r=0}return n.isWindow()?1===r?o?e.outerWidth:e.outerHeight:o?e.innerWidth:e.innerHeight:!!n.isNode()&&(s=o?e.offsetWidth:e.offsetHeight,0===r?s:(c=e.style,-2===r||-1===r?(s-=a.a.number({value:o?c.borderLeft:c.borderTop,min:0,default:0})+a.a.number({value:o?c.borderRight:c.borderBottom,min:0,default:0}),-2===r&&(s-=a.a.number({value:o?c.paddingLeft:c.paddingTop,min:0,default:0})+a.a.number({value:o?c.paddingRight:c.paddingBottom,min:0,default:0})),s):s+a.a.number({value:o?c.marginLeft:c.marginTop,min:0,default:0})+a.a.number({value:o?c.marginRight:c.marginBottom,min:0,default:0})))},set:function(){var t,a;return n.isNode()||n.isView()?e:i.a.isArray(e)||i.a.isObject(e)?e:!i.a.isStringEmpty(e)&&((e=i.a.trim(e)).indexOf(",")>-1?e=document.querySelectorAll(e):(t=e.charAt(0),a=e.substring(1),e="#"===t?document.getElementById(a):"."===t?document.getElementsByClassName(a):document.querySelectorAll(e)))}};return n.remove=function(){const t=e;var a;if(n.isNode())return null!==e.parentNode&&(e.parentNode.removeChild(e),!0);if(n.isView()||t.length<1)return!1;for(a=0;a<t.length;a++)e=t[a],n.isNode()&&null!==e.parentNode?(e.parentNode.removeChild(e),e=t):e=t;return!0},n.isNode=function(){return e&&e.nodeType===Node.ELEMENT_NODE},n.isDocument=function(){return e===document},n.isWindow=function(){return e===window},n.isView=function(){return n.isDocument()||n.isWindow()},n.isHidden=function(){return null===el.offsetParent},n.classList=function(){var t;return n.isNode()&&!i.a.isStringEmpty(e.className)&&i.a.isArray(t=i.a.trim(e.className).split(" "),1)?t:[]},n.hasClass=function(e){const t=n.classList();var a;if(t.length<1||i.a.isStringEmpty(e))return!1;for(a in e=i.a.trim(e),t)if(!i.a.isStringEmpty(t[a])&&i.a.trim(t[a])===e)return!0;return!1},n.removeClass=function(t){const a=e;var r,s,c;if(n.isView()||i.a.isStringEmpty(t))return!1;function o(){const a=n.classList(),r=[];var s,c;if(a.length<1)return!1;for(s in a)i.a.isStringEmpty(a[s])||(c=i.a.trim(a[s]))===t||(r[r.length]=c);e.className=r.join(" ")}if(t=i.a.trim(t),n.isNode())return o(),!0;if(!i.a.isObject(e)&&!i.a.isArray(e))return!1;for(c in r=e)s=r[c],e=s,n.isNode()?(o(),e=a):e=a},n.addClass=function(t){const a=e;var r,s,c;if(n.isView()||i.a.isStringEmpty(t=i.a.toClass(t)))return!1;function o(){const a=n.classList(),r=[];var s,c;for(s in a)i.a.isStringEmpty(a[s])||(c=i.a.trim(a[s]))===t||(r[r.length]=c);return r[r.length]=t,e.className=r.join(" "),!0}if(n.isNode())return o(),!0;if(!i.a.isObject(e)&&!i.a.isArray(e))return!1;for(c in r=e)s=r[c],e=s,n.isNode()?(o(),e=a):e=a},n.toggleClass=function(e){n.hasClass(e)?n.removeClass(e):n.addClass(e)},n.closest=function(t){const a=e;var r,s;if(!n.isNode()||i.a.isStringEmpty(t))return!1;function c(i,r){var s="previous"===r?i.previousSibling:i.nextSibling;return e=s,n.isNode()?n.hasClass(t)?(e=a,s):c(s,r):(e=a,!1)}return t=i.a.trim(t),r=c(e,"next"),e=r,n.isNode()?(e=a,r):(s=c(e,"previous"),e=s,n.isNode()?(e=a,s):(e=a,!1))},n.children=function(a,r){const s=[],c=i.a.isFunction(r);var o,l,u;if(!n.isNode()||i.a.isStringEmpty(a)||e.children.length<1)return!1;for(o in a=i.a.trim(a),l=e.children)if(u=l[o],e=u,n.isNode()&&n.hasClass(a)){if(s[s.length]=u,e=t,c&&0===r(u,o,l))break}else e=t;return e=t,s},n.child=function(a){const r=n.children(a,function(){return 0});return e=r,n.isNode()?(e=t,r):i.a.isArray(r,1)&&(e=r[0],n.isNode())?(e=t,r[0]):(e=t,!1)},n.before=function(e){return s.insert("beforebegin",e)},n.after=function(e){return s.insert("afterend",e)},n.append=function(e){return s.insert("beforeend",e)},n.prepend=function(e){return s.insert("afterbegin",e)},n.height=function(e){return s.size("height",e)},n.width=function(e){return s.size("width",e)},n.offset=function(){var t,a;return!!n.isNode()&&(t=e.getBoundingClientRect(),a=e.ownerDocument.defaultView,{top:t.top+a.pageYOffset,left:t.left+a.pageXOffset})},n.prop=function(){return!(!n.isNode()&&!n.isView())&&e},n.get=function(){return e},n.next=function(t){const a=e;var r,c,o;if(!n.isNode())return!1;if(r=e.nextSibling,i.a.isStringEmpty(t)||!i.a.isObject(c=s.decode(t)))return r;for(o="id"===c.type;r;){if(e=r,o&&i.a.trim(r.id)===c.str||n.hasClass(c.str))return e=a,r;r=r.nextSibling,e=a}},n.prev=function(t){const a=e;var r,c,o;if(!n.isNode())return!1;if(r=e.previousSibling,i.a.isStringEmpty(t)||!i.a.isObject(c=s.decode(t)))return r;for(o="id"===c.type;r;){if(e=r,o&&i.a.trim(r.id)===c.str||n.hasClass(c.str))return e=a,r;r=r.previousSibling,e=a}},n.toggle=function(t){"none"===e.style.display?n.slideDown(t):n.slideUp(t)},n.slideUp=function(t){var i,r,s,c;t=a.a.number({value:t,min:0,default:500,float:!0}),"none"!==e.style.display&&(r=n.height(0),s=r,i=r/10,e.style.overflow="hidden",c=setInterval(function(){(s-=i)>0?e.style.height=s+"px":(e.style.display="none",e.style.removeProperty("height"),clearInterval(c))},t))},n.slideDown=function(t){var i,r,s,c;t=a.a.number({value:t,min:0,default:500,float:!0}),"none"===e.style.display&&(e.style.display="block",e.style.overflow="hidden",r=n.height(0),e.style.height="0px",s=r,i=r/10,c=setInterval(function(){(s+=i)<r?e.style.height=s+"px":(e.style.removeProperty("overflow"),e.style.removeProperty("display"),e.style.removeProperty("height"),clearInterval(c))},t))},n.trigger=function(t){var a,r,s,c=e;function o(){const n=document.createEvent("HTMLEvents");n.initEvent(t,!1,!0),e.dispatchEvent(n)}if(n.isNode()||n.isView())o();else{if(!i.a.isObject(e)&&!i.a.isArray(e))return!1;for(a in r=e)s=r[a],e=s,n.isNode()||n.isView()?(o(),e=c):e=c}},n.on=function(t,a,r){var s,c,o=e;if(r=!!i.a.isSet(r)&&r,i.a.isStringEmpty(t)||!i.a.isFunction(a))return!1;if((c=(t=i.a.trim(t)).split(" ")).length<1)return!1;function l(t){e.addEventListener(t,function(e){a(e,this,r)})}function u(t){var a,r;if(n.isNode()||n.isView())l(t);else{if(!i.a.isObject(e)&&!i.a.isArray(e,1))return!1;for(a in r=e)e=r[a],(n.isNode()||n.isView())&&l(t),e=o}}for(s in c)i.a.isStringEmpty(c[s])||u(i.a.trim(c[s]))},n.off=function(t,a,r){const s=i.a.isFunction(a);var c,o,l=e;if(r=!!i.a.isSet(r)&&r,i.a.isStringEmpty(t))return!1;if((o=(t=i.a.trim(t)).split(" ")).length<1)return!1;function u(t){s?e.removeEventListener(t,function(e){a(e,this,r)}):e.removeEventListener(t)}function d(t){var a,r;if(n.isNode()||n.isView())u(t);else{if(!i.a.isObject(e)||!i.a.isArray(e,1))return!1;for(a in r=e)e=r[a],(n.isNode()||n.isView())&&u(t),e=l}}for(c in o)i.a.isStringEmpty(o[c])||d(o[c])},n.load=function(t,a){var r;if(i.a.isStringEmpty(t)||!n.isNode())return!1;(r=new XMLHttpRequest).open("GET",t,!0),r.onload=function(){var t="";r.status>=200&&r.status<400&&(t=r.responseText,e.innerHTML=t),i.a.isFunction(a)&&a(t,r.status)},r.send()},n.serialize=function(){const t=[];if(!(n.isNode()&&"form"===e.nodeName.toLowerCase()&&e.elements.length>0))return t.join("&").replace(/%20/g,"+")},n.sort=function(t){(t=t||{}).handle=e,Object(r.a)(t)},s.set(),n}},function(e,t,n){"use strict";var a=n(0),i=n(1);const r={dataset:function(e,t){return!(!Object(i.a)(e).isNode()||a.a.isStringEmpty(t))&&(!!(a.a.isObject(e.dataset)&&(t=a.a.trim(t))in e.dataset)&&(a.a.isNumber(e.dataset[t])?e.dataset[t]:!a.a.isStringEmpty(e.dataset[t])&&a.a.trim(e.dataset[t])))},type:function(e){return!a.a.isStringEmpty(e)&&["sections","rows","columns","elements","items"].indexOf(e=a.a.trim(e))>-1&&e},id:function(e){return!(!a.a.isNumber(e=parseInt(e))||isNaN(e))&&e},style:function(e){const t=document,n=!a.a.isStringEmpty(e)&&t.getElementById(a.a.trim(e));var r;return!(!(r=Object(i.a)(n)).isNode()||"style"!==r.prop().nodeName.toLowerCase())&&r.prop()},html:function(e){var t;return!!a.a.isString(e)&&((t=document.createElement("div")).innerHTML=e,t.children)},ids:function(e,t){var n,i,s,c,o;if(a.a.isStringEmpty(e)||!a.a.isArray(n=e.split(","),1))return!1;for(c="array"===t?[]:{},o=0,i=0;i<n.length;i++)(s=r.id(n[i]))&&("array"!==t?(c[s]=s,o++,c.length=o):c.push(s));return!!c.length&&c},json:function(e){var t;try{t=JSON.parse(e)}catch(e){return!1}return t}};t.a=r},function(e,t,n){"use strict";var a=n(0),i=n(2),r=n(1);const s={number:function(e){var t;if(null!==e&&a.a.isObject(e)||(e={value:e}),null!==e.value&&(a.a.isString(e.value)||a.a.isNumber(e.value))){if(t=a.a.isBool(e.float)&&e.float?parseFloat(e.value):parseInt(e.value),a.a.isNumber(e.min)&&t<e.min)return e.min;if(a.a.isNumber(e.max)&&t>e.max)return e.max;if(!isNaN(t))return t}return a.a.isNumber(e.default)?parseFloat(e.default):null},valueUnit:function(e,t){if(a.a.isString(e)){if("auto"===(e=a.a.trim(e)).toLowerCase())return"auto";if(a.a.isStringEmpty(e))return""}return t=a.a.isString(t)?s.unit(t):"",0===(e=s.number({value:e,float:"px"!==t}))?e.toString():e+t},unit:function(e){switch(e=a.a.isString(e)?a.a.trim(e.toLowerCase()):e){case"px":case"pixel":case"pix":case"pxl":case"pixels":return"px";case"em":case"mul":case"mu":case"*":return"em";case"%":case"percent":case 100:case"100":return"%";case"pt":case"points":case"point":case"pts":return"pt";case"cm":case"centimeter":case"centimeters":return"cm";case"mm":case"millimeter":case"millimeters":return"mm";case"in":case"inches":case"inch":return"in";default:return""}},value:function(e,t){const n=typeof e,i=typeof t;var r="";return"number"===n?r=s.number(e):"string"===n&&(r=a.a.trim(e)),""===r&&null!==t&&("number"===i?r=s.number(t):"string"===i&&(r=a.a.trim(t))),r},color:function(e){return!a.a.isStringEmpty(e)&&/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i.test(e=a.a.trim(e))?e:""},data:function(e,t){const n={};var r,s,c;if(!(a.a.isObject(e)&&a.a.isObject(e.elements)&&(t=i.a.id(t))&&a.a.isObject(e.elements[t])))return n;if(n.el=e.elements[t],!a.a.isStringEmpty(n.el._items)&&a.a.isObject(e.items)&&a.a.isArray(r=i.a.ids(n.el._items,"array"),1))for(n.items={},c=0;c<r.length;c++)(s=i.a.id(r[c]))&&a.a.isObject(e.items[s])&&(n.items[s]=e.items[s]);return n},content:function(){const e=document.getElementsByClassName("cpb-elementContent");var t,n;if(!a.a.isObject(e))return"";for(n in t="",e)Object(r.a)(e[n]).isNode()&&(t+=a.a.stripTags(e[n].innerHTML,"<br><img><p><a><u><strike><b><strong><i><ins><del><hr><caption><span><h1><h2><h3><h4><h5><h6><video><audio>"));return t},post:function(e){return a.a.isStringEmpty(e)?"":a.a.stripTags(e,"<br><img><p><a><u><strike><b><strong><i><ins><del><hr><caption><span><h1><h2><h3><h4><h5><h6><sub><sup><title>")},class:function(e,t){return a.a.toClass(a.a.isString(t)?t:"")+a.a.toClass(e)},alignment:function(e){const t="cpb-align";switch(e=a.a.isString(e)?a.a.trim(e.toLowerCase()):e){case"l":case"left":case"<":return t+"left";case"r":case"right":case">":return t+"right";case"j":case"justify":case"=":return t+"justify";case"m":case"middle":return t+"middle";case"t":case"top":case"^":return t+"top";case"b":case"bottom":case"v":return t+"bottom";default:return t+"center"}}};t.a=s},function(e,t,n){"use strict";var a=n(0);t.a=function(){return window.Comet="object"!=typeof Comet?{}:Comet,{get:function(e){return!a.a.isStringEmpty(e)&&(e=a.a.trim(e))in Comet&&Comet[e]},set:function(e,t,n){return!a.a.isStringEmpty(e)&&(e=a.a.trim(e),n=!!a.a.isBool(n)&&n,!(e in Comet&&n)&&e in Comet||(Comet[e]=t),this.get(e))},isSet:function(e){return!!this.get(e)}}}},function(e,t,n){"use strict";var a=n(7),i=n(3),r=n(0),s=n(2),c=n(9),o=n(6),l=n(1);var u={content:function(e){var t,n,a,i,c,o="";return r.a.isObject(e)?(a=r.a.isString(e.tag)&&["p","h1","h2","h3","h4","h5","h6","li","span","div","aside","code","pre","blockquote","article","section","main"].indexOf(a=r.a.trim(e.tag.toLowerCase()))>-1?a:"p",t=!!r.a.isBool(e.editable)&&e.editable,n=r.a.isString(e.inner)?r.a.stripTags(e.inner,"<span><br><ins><u><i><em><strong><b><strike><del><a><abbr><address><code><hr><mark><sup><sub><s>"):"",i=r.a.isStringEmpty(e.classes)?"":r.a.trim(e.classes),t&&!r.a.isStringEmpty(e.match)&&(e.id=s.a.id(e.id))&&(i+=" cpb-editable",o=' data-match="'+r.a.trim(e.match)+'"',o+=' data-id="'+e.id+'"',n.length<1&&(n="Write something here...")),c="<"+a,r.a.isStringEmpty(i)||(c+=' class="'+r.a.trim(i)+'"'),c+=o,c+=">",c+=n,c+="</"+a+">"):""},image:function(e){var t,n,a,s;return!(!r.a.isObject(e)||r.a.isStringEmpty(a=r.a.isString(e.src)?r.a.trim(r.a.stripTags(e.src)):""))&&((t=r.a.isArray(e.classes)?e.classes:[])[t.length]="cpb-image",(s=document.createElement("img")).className=t.join(" "),s.src=r.a.escUrl(a),(n=i.a.number({value:e.width,min:0}))>0&&(s.width=n),(n=i.a.number({value:e.height,min:0}))>0&&(s.height=n),r.a.isStringEmpty(n=r.a.isString(e.alt)?r.a.trim(r.a.stripTags(e.alt)):"")||(s.alt=n),r.a.isBool(e.auto)&&!0===e.auto&&(s.onload=function(){this.width=this.naturalWidth,this.height=this.naturalHeight}),s)},icon:function(e){const t=c.a.decode(e);return t?c.a.get_svg(t.set_id,t.icon_id):""},element:function(e,t){var n;if(!r.a.isObject(e)||!r.a.isFunction(t)||!(n=s.a.id(e.id)))return!1;Object(o.a)({action:"true"===cometdata.admin?"comet_ajAdmin":"comet_ajPublic",do:"element",element:r.a.trim(e.element),id:n,data:JSON.stringify(r.a.isObject(e.data)?e.data:{})}).done(t)},placeholder:function(){return'<div class="cpb-empty cpb-placeholder"><span>Placeholder</span></div>'}},d=n(11);const m={};function p(e,t,n,a,s,c){var o,l=null,u=null;function d(e){return r.a.isString(e)&&"auto"===(e=r.a.trim(e.toLowerCase()))?"auto":i.a.number({value:e})}if(e=i.a.number(e),t=d(t),n=i.a.number(n),a=d(a),s=i.a.unit(s),c=i.a.unit(c),e===n&&(u=e),a===t&&(l=a),null!==u&&null!==l){if(u===l){if(0===u)return 0;if(s===c)return r.a.trim(i.a.valueUnit(u,s))}return r.a.trim(i.a.valueUnit(u,s)+" "+i.a.valueUnit(l,c))}return o=i.a.valueUnit(e,s),o+=" "+i.a.valueUnit(t,c),o+=" "+i.a.valueUnit(n,s),null===l&&(o+=" "+i.a.valueUnit(a,c)),r.a.trim(o)}m.render=function(e,t){return r.a.isStringEmpty(e)||!r.a.isNumber(t)&&r.a.isStringEmpty(t)?"":(e=r.a.trim(e,":"))+":"+t+";"},m.padding=function(e,t,n,a,i,r){const s=p(e,t,n,a,i,r);return""===s?"":m.render("padding",s)},m.margin=function(e,t,n,a,i,r){const s=p(e,t,n,a,i,r);return""===s?"":m.render("margin",s)},m.borderWidth=function(e,t,n,a){const i=p(e,t,n,a,"px","px");return""===i?"":m.render("border-width",i)},m.borderRadius=function(e,t,n,a){const i=p(e,t,n,a,"px","px");var r;return""!==i?(r=m.render("border-radius",i),r+=m.render("-webkit-border-radius",i),r+=m.render("-moz-border-radius",i)):""},m.border=function(e){const t={value:0,min:0,default:0};var n,a,s,c,o,l,u,d;if(!r.a.isObject(e))return"";switch(0,o=l=null,e.style){case"s":case"sld":case"solid":e.style="solid";break;case"dot":case"dtd":case"dotted":e.style="dotted";break;case"das":case"dhd":case"dashed":e.style="dashed";break;case"dbe":case"dble":case"double":e.style="double";break;case"in":case"ins":case"inner":case"inset":e.style="inset";break;case"ou":case"out":case"outset":case"outside":e.style="outset";break;default:e.style="none"}return"none"===e.style||""===(e.color=i.a.color(e.color))?"":(t.value=e.top,n=i.a.number(t),t.value=e.right,a=i.a.number(t),t.value=e.bottom,s=i.a.number(t),t.value=e.left,n===s&&(l=n),a===(c=i.a.number(t))&&(o=a),null!==o&&null!==l?o===l?0===o?"":(u=i.a.valueUnit(l,"px"),u+=" "+e.style,u+=" "+e.color,m.render("border",u)):(u=m.render("border-width",i.a.valueUnit(l,"px")+" "+i.a.valueUnit(o,"px")),u+=m.render("border-style",e.style),u+=m.render("border-color",e.color)):(d=i.a.valueUnit(n,"px"),d+=" "+i.a.valueUnit(a,"px"),d+=" "+i.a.valueUnit(s,"px"),null===o&&(d+=" "+i.a.valueUnit(c,"px")),u=m.render("border-width",d),u+=m.render("border-style",e.style),u+=m.render("border-color",e.color)))},m.textShadow=function(e){var t;return r.a.isObject(e)?(e.blur=i.a.number({value:e.blur,default:0,min:0}),e.x=i.a.number({value:e.x,default:0}),e.y=i.a.number({value:e.y,default:0}),e.blur<1&&0===e.x&&0===e.y||""===(e.color=i.a.color(e.color))?"":(t=i.a.valueUnit(e.x,"px"),t+=" "+i.a.valueUnit(e.y,"px"),t+=" "+i.a.valueUnit(e.blur,"px"),t+=" "+e.color,m.render("text-shadow",t))):""},m.boxShadow=function(e){var t,n;if(!r.a.isObject(e))return"";return e.blur=i.a.number({value:e.blur,default:0,min:0}),e.spread=i.a.number({value:e.spread,default:0}),e.x=i.a.number({value:e.x,default:0}),e.y=i.a.number({value:e.y,default:0}),e.blur<1&&0===e.x&&0===e.y&&0===e.spread||""===(e.color=i.a.color(e.color))?"":(t=i.a.valueUnit(e.x,"px"),t+=" "+i.a.valueUnit(e.y,"px"),t+=" "+i.a.valueUnit(e.blur,"px"),t+=" "+i.a.valueUnit(e.spread,"px"),t+=" "+e.color,t+=function(){switch(r.a.isString(e.inset)||r.a.isNumber(e.inset)?r.a.trim(e.inset.toString().toLowerCase()):e.inset){case"true":case!0:case"in":case"inset":case"1":return!0;default:return!1}}()?" inset":"",n=m.render("box-shadow",t),n+=m.render("-moz-box-shadow",t),n+=m.render("-webkit-box-shadow",t))},m.background=function(e){const t={};var n,a,s,c,o,l,u;return r.a.isObject(e)?(n=a=!1,c=o=l="",s=r.a.isString(e.type)&&"color"===r.a.trim(e.type).toLowerCase(),t.position=function(e){switch(e=r.a.isString(e)?r.a.trim(e.toLowerCase()):""){case"lt":case"leftop":case"lefttop":case"leftTop":return"left top";case"lc":case"leftcenter":case"leftCenter":return"left center";case"lb":case"leftbottom":case"leftBottom":return"left bottom";case"rt":case"rightop":case"righttop":case"rightTop":return"right top";case"rc":case"rightcenter":case"rightCenter":return"right center";case"rb":case"rightbottom":case"rightBottom":return"right bottom";case"ct":case"centertop":case"centerTop":return"center top";case"cb":case"centerbottom":case"centerBottom":return"center bottom";default:return"center center"}},t.repeat=function(e){switch(e=r.a.isString(e)?r.a.trim(e.toLowerCase()):""){case"no":case"nr":case"no-repeat":case"norepeat":case"norep":return"no-repeat";case"x":case"repeat-x":case"repeatx":case"repx":case"rx":return"repeat-x";case"y":case"repeat-y":case"repeaty":case"repy":case"ry":return"repeat-y";case"s":case"space":case"sp":return"space";case"rd":case"round":return"round";default:return"repeat"}},t.size=function(e){switch(e=r.a.isString(e)?r.a.trim(e.toLowerCase()):""){case"con":case"contain":case"container":return"contain";case"cov":case"cover":return"cover";default:return"auto"}},t.attachment=function(e){switch(e=r.a.isString(e)?r.a.trim(e.toLowerCase()):""){case"fix":case"fixed":return"fixed";default:return"scroll"}},!s&&r.a.isObject(e.gradient)&&"type"in e.gradient&&"gradient"in e.gradient&&"angle"in e.gradient&&(o=m.gradient(e.gradient.type,e.gradient.angle,e.gradient.gradient),n=!r.a.isEmpty(o)),!r.a.isEmpty(u=i.a.color(e.color))&&s&&(c+=u),r.a.isStringEmpty(e.url)||(a=!0,l="url("+r.a.trim(e.url)+")"),n?c+=m.render("background-image",l+(a?", ":" ")+o):!n&&a&&(c+=" "+l),"repeat"in e&&a&&(u=t.repeat(e.repeat),c+=n?m.render("background-repeat",u):" "+u),"position"in e&&a&&(u=t.position(e.position),c+=n?m.render("background-position",u):" "+u),n||(c=m.render("background",r.a.trim(c))),"att"in e&&a&&(c+=m.render("background-attachment",t.attachment(e.att))),"size"in e&&a&&(c+=m.render("background-size",t.size(e.size))),c):""},m.gradient=function(e,t,n){var a,s,c;if(r.a.isStringEmpty(n)||!r.a.isArray(n=d.a.decode(n),2))return"";if("radial"===e)c="radial-gradient( farthest-"+(t=r.a.isString(t)&&["side","s","sd"].indexOf(r.a.trim(t))>-1?"side":"corner");else switch(c="linear-gradient(",t=i.a.number({value:t,min:0,max:360,default:0})){case 0:case 360:c+="to top";break;case 180:c+="to bottom";break;case 270:c+="to left";break;case 90:c+="to right";break;case 45:c+="to top right";break;case 135:c+="to bottom right";break;case 225:c+="to bottom left";break;case 315:c+="to top left";break;default:c+=t+"deg"}for(n.sort(function(e,t){return e.stop-t.stop}),a=0;a<n.length;a++)"color"in(s=n[a])&&"stop"in s&&!isNaN(s.stop)&&(c+=","+s.color+" "+s.stop+"%");return c+=")"},m.responsive=function(e,t){var n;return r.a.isStringEmpty(t)||(n=["mobile","m","M","tablet","t","T","TABLET"].indexOf(e))<0?"":"@media only screen and (max-width:"+(n<=2?400:800)+"px){"+t+"}"},m.element=function(e,t,n,a){const i=r.a.isString(a)?["mobile","m","M","tablet","t","T","TABLET"].indexOf(a):-1;var s;return r.a.isNumber(e)&&r.a.isString(n)?(s=i>-1?".cpb-devicetype-"+(i<=2?"mobile":"tablet")+" ":"",s+=".cpb-element.cpb-elementNode"+e,(s+=r.a.isString(t)?" "+r.a.trim(t):"")+"{"+r.a.trim(n)+"}"):""};var b=m,f=function(e,t){const n=document,a={id:function(){var n;return!(!(e=s.a.id(e))||!(t=s.a.type(t)))&&(n="cpb-style",n+=r.a.capitalize(t),n+=e,r.a.trim(n))},node:function(e){const t=!r.a.isStringEmpty(e)&&n.getElementById(r.a.trim(e));return!(!t||!Object(l.a)(t).isNode()||"style"!==t.nodeName.toLowerCase())&&t},add:function(e,t){const s=i.create(e);var c;return!!s&&((c=a.node(s.id))?!!r.a.isFunction(t)&&t(s,c):(n.head.appendChild(s),!0))}},i={create:function(e){const t=a.id();var i=null;return e=r.a.isString(e)?r.a.trim(r.a.stripTags(e)):null,!(!t||null===e)&&((i=n.createElement("style")).id=t,i.className="cpb-style "+t,i.innerHTML=e,i)},add:function(e){return a.add(e)},insert:function(e){return a.add(e,function(e,t){return null!==t.parentNode&&(t.parentNode.replaceChild(e,t),!0)})},get:function(){const n=a.id(e,t);return a.node(n)},remove:function(){const n=i.get(e,t);return!(!n||null===n.parentNode)&&(n.parentNode.removeChild(n),!0)}};return i};t.a=function(e,t){const n=document,c=function(e,t,n){var a,s,c,o,l,u,d,m;if(["sections","rows","columns"].indexOf(t)<0||!r.a.isObject(n))return"";switch(c=".cpb-",t){case"sections":c+="section-"+e+".cpb-section > .cpb-sectionContent";break;case"rows":c+="row-"+e+".cpb-row";break;case"columns":c+="column-"+e+".cpb-column";break;default:return""}switch(u=b.background({type:n.bgt,gradient:{type:n.bgor,gradient:n.gradient,angle:"radial"===n.bgor?n.shape:n.angle},color:n.bgc,url:n.image,position:n.pos,repeat:n.repeat,size:n.size,att:n.att}),l=b.border({color:n.bc,style:n.bs,top:n.bwt,right:n.bwr,bottom:n.bwb,left:n.bwl}),o=b.borderRadius(n.bradt,n.bradr,n.bradb,n.bradl),d=b.padding(n.padt,n.padr,n.padb,n.padl,"px","px"),m=b.margin(n.mart,n.marr,n.marb,n.marl,"px","px"),t){case"sections":a=c+"{"+u+l+m+d+o+"}";break;case"rows":switch(a="","cust"===n.width&&null!==(s=i.a.number({value:n.wsize,min:300}))&&s>=300&&(a+=c+"{"+b.render("max-width",s+"px")+"}"),a+=(c+=" .cpb-rowContent")+"{"+u+l+d+o+m,n.alg){case"t":a+=b.render("align-items","flex-start");break;case"b":a+=b.render("align-items","flex-end");break;case"c":a+=b.render("align-items","center")}a+="}";break;case"columns":a="",null!==(s=i.a.number({value:n.wsize,min:10,max:100}))&&(a+=c+"{"+b.render("width",s+"%")+"}"),a+=(c+=" .cpb-columnContent")+"{"+u+l+d+o+m+"}";break;default:return""}"ov"in n&&"ovc"in n&&["true",!0].indexOf(n.ov)>-1&&!r.a.isEmpty(s=i.a.color(n.ovc))&&(a+=c+" > .cpb-backgroundComponents > .cpb-backgroundOverlay{background:"+s+";}",""!==o&&(a+=c+" > .cpb-backgroundComponents{"+o+"}")),d=b.padding(n.padtt,n.padrt,n.padbt,n.padlt,"px","px"),m=b.margin(n.martt,n.marrt,n.marbt,n.marlt,"px","px"),""===d&&""===m||(a+=".cpb-tabletMode "+c+"{"+d+m+"}",a+=b.responsive("t",c+"{"+d+m+"}")),d=b.padding(n.padtm,n.padrm,n.padbm,n.padlm,"px","px"),m=b.margin(n.martm,n.marrm,n.marbm,n.marlm,"px","px"),""===d&&""===m||(a+=".cpb-mobileMode "+c+"{"+d+m+"}",a+=b.responsive("m",c+"{"+d+m+"}")),f(e,t).insert(a)},o=function(t){return r.a.isObject(e)&&r.a.isObject(e[t])},d=function(e){const t=r.a.isString(e.vurl)?r.a.trim(r.a.stripTags(e.vurl)):"";var n='<div class="cpb-backgroundComponents">';return["true",!0].indexOf(e.vid)>-1&&!r.a.isEmpty(t)&&(n+='<video class="cpb-backgroundVideo" src="'+r.a.escUrl(t)+'" muted loop autoplay preload="auto"></video>'),["true",!0].indexOf(e.ov)>-1&&"ovc"in e&&(n+='<div class="cpb-backgroundOverlay"></div>'),n+="</div>"},m={css:!1,init:function(t,a){var i,c,l,u,d;if(!r.a.isObject(e)||r.a.isStringEmpty(e._sections)||!o("sections"))return!1;if(!r.a.isArray(c=s.a.ids(r.a.trim(e._sections),"array"),1))return!1;for(i=0,a=s.a.id(a),u=n.createDocumentFragment(),l=0;l<c.length;l++)1!==i&&!1!==a&&a!==c[l]||(d=m.section(c[l]))&&(u.appendChild(d),i=1);return t.appendChild(u),!0},section:function(a){var i,l,u,p,b,f,g;if(!o("sections")||!(a=s.a.id(a))||!r.a.isObject(e.sections[a]))return!1;if(c(a,"sections",e.sections[a]),t)return!0;if(u="cpb-section-"+a,u+=" cpb-section",i='<div class="cpb-rows cpb-sectionContent">',i+=d(e.sections[a]),i+="</div>",(l=n.createElement("div")).className=u,l.dataset.id=a,l.innerHTML=i,o("rows")&&!r.a.isStringEmpty(e.sections[a]._rows)&&r.a.isArray(b=s.a.ids(r.a.trim(e.sections[a]._rows),"array"),1)){for(f=n.createDocumentFragment(),p=0;p<b.length;p++)(g=m.row(b[p]))&&f.appendChild(g);l.firstChild.appendChild(f)}return l},row:function(a){var i,l,u,p,b,f,g,h;if(!o("rows")||!(a=s.a.id(a))||!r.a.isObject(e.rows[a]))return!1;if(c(a,"rows",e.rows[a]),t)return!0;if(b="cpb-row",b+=" cpb-row-"+a,l='<div class="cpb-rowContent" data-ncol="0">',l+=d(e.rows[a]),l+="</div>",(u=n.createElement("div")).className=b,u.dataset.id=a,u.innerHTML=l,f=0,o("columns")&&!r.a.isStringEmpty(e.rows[a]._columns)&&r.a.isArray(p=s.a.ids(r.a.trim(e.rows[a]._columns),"array"),1)){for(g=n.createDocumentFragment(),i=0;i<p.length;i++)(h=m.column(p[i]))&&(g.appendChild(h),f++);u.firstChild.appendChild(g)}return u.firstChild.dataset.ncol=f,u},column:function(a){var i,l,u,p,b,f,g;if(!o("columns")||!(a=s.a.id(a))||!r.a.isObject(e.columns[a]))return!1;if(c(a,"columns",e.columns[a]),t)return!0;if(b="cpb-column",b+=" cpb-column-"+a,l='<div class="cpb-columnContent">',l+=d(e.columns[a]),l+="</div>",(u=n.createElement("div")).className=b,u.dataset.id=a,u.innerHTML=l,o("elements")&&!r.a.isStringEmpty(e.columns[a]._elements)&&r.a.isArray(p=s.a.ids(r.a.trim(e.columns[a]._elements),"array"),1)){for(f=n.createDocumentFragment(),i=0;i<p.length;i++)(g=m.element(p[i]))&&f.appendChild(g);u.firstChild.appendChild(f)}return u},element:function(c,d){var m,p,g,h;return!(!(o("elements")&&(c=s.a.id(c))&&r.a.isObject(e.elements[c]))||r.a.isStringEmpty(e.elements[c]._type))&&(!!(h=function(e,t,n){const a=r.a.getElement(e),c={toObject:function(e,t){const n={};var a;if(!r.a.isObject(e)||!r.a.isArray(t,1))return{};for(a in e)t.indexOf(a)<0||(n[a]=e[a]);return n},toolkit:function(e){const t={};switch(t.sanitize=c.toObject(i.a,["unit","valueUnit","number","value","color","alignment","class"]),t.utils=c.toObject(r.a,["toClass","getVideo","stripTags","escUrl","capitalize","isString","isStringEmpty","isNumber","isBool","isArray","isSet","trim","isObject","isFunction","foreachItem"]),e){case"css":t.css=b;break;case"html":t.html=u}return t}};return!(!(t=s.a.id(t))||t<0||!a)&&(n=r.a.isObject(n)?n:{},{force_js:["true","TRUE","1",1,!0].indexOf(a.force_js)>-1,view:function(e){return!(!r.a.isString(a.render.view)||!Object(l.a)(e).isNode())&&Function('"use strict";return (function( id, data, ui, toolkit ){ '+a.render.view+"})")()(t,n,e,c.toolkit("html"))},css:function(){return!!r.a.isString(a.render.css)&&Function('"use strict";return (function( id, data, toolkit ){ '+a.render.css+"})")()(t,n,c.toolkit("css"))}})}(r.a.trim(e.elements[c]._type),c,i.a.data(e,c)))&&(f(c,"elements").insert(h.css()),!!(t||["view","VIEW"].indexOf(d)>-1&&!h.force_js)||(g=n.createDocumentFragment(),p=n.createElement("div"),g.appendChild(p),m="cpb-element",m+=" cpb-element"+r.a.capitalize(r.a.trim(e.elements[c]._type)),m+=" cpb-elementNode"+c,console.time("element"),p.className=m,p.dataset.id=c,p.innerHTML='<div class="cpb-elementContent"></div>',h.view(p),console.timeEnd("element"),["update","UPDATE","updating","UPDATING",!0,1].indexOf(d)>-1&&Object(a.a)().set({node:p}),g)))}};return t=r.a.isBool(t)&&t||r.a.isString(t)&&"css"===r.a.trim(t.toLowerCase()),m.css=t,m}},function(e,t,n){"use strict";var a=n(0);t.a=function(e){const t={done:function(e){a.a.isFunction(e)&&a.a.isObject(n)&&(n.onload=function(){const t=200===n.status&&n.responseText;e(t)})}};var n;if(!a.a.isObject(e)||a.a.isStringEmpty(e.do))return t;return e.do=a.a.trim(e.do),e.action=a.a.isStringEmpty(__cometdata.user)||"true"!==__cometdata.user?"cometnoprivactions":"cometprivactions",e.security=__cometdata.security,(n=new XMLHttpRequest).open("POST",__cometdata.ajax_url,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(function(e){var t,n="";for(t in e)t in e&&(n+=(n.length>0?"&":"")+encodeURI(t+"="+e[t]));return n}(e)),t}},function(e,t,n){"use strict";var a=n(4),i=n(2),r=n(0);n(1);t.a=function(){const e=Object(a.a)(),t={set:function(n){var a;return!!r.a.isObject(n)&&(r.a.isObject(a=t.get())||(a={}),"id"in n&&(a.id=n.id),"type"in n&&(a.type=n.type),"item"in n&&(a.item=n.item),"node"in n&&(a.node=n.node),"state"in n&&(a.state=n.state),e.set("target",a))},get:function(){return e.get("target")},reset:function(){return t.set({id:null,type:null,item:null,node:null,state:null})},id:function(){const e=t.get();var n;return!(!r.a.isObject(e)||!(n=i.a.id(e.id))||n<0)&&n},node:function(){const e=t.get();return!(!r.a.isObject(e)||!r.a.isObject(e.node)/*!( _t = node( target.node ) ).isNode()*/)&&e.node},type:function(){const e=t.get();return!(!r.a.isObject(e)||null===e.type||r.a.isStringEmpty(e.type))&&r.a.trim(e.type)},item:function(){const e=t.get();var n;return!(!r.a.isObject(e)||!(n=i.a.id(e.item))||n<0)&&n},state:function(){const e=t.get();return!(!r.a.isObject(e)||null===e.state||r.a.isStringEmpty(e.state))&&r.a.trim(e.state)}};return function(){const e=t.get();return r.a.isObject(e)&&"id"in e&&"type"in e&&"node"in e&&"state"in e&&"item"in e}()||t.reset(),t}},function(e,t,n){"use strict";var a=n(0),i=n(1);t.a=function(e){const t=document,n=t.createDocumentFragment();var r,s,c,o;return a.a.isObject(e)||(e={}),e.close=a.a.isObject(e.close)?e.close:{},e.close.title=a.a.isStringEmpty(e.close.title)?__cometi18n.ui.close:a.a.trim(e.close.title),e.close.icon=a.a.isStringEmpty(e.close.icon)?'<span class="cico cico-x"></span>':a.a.trim(e.close.icon),(r=t.createElement("div")).className="comet-modal comet-ui"+(a.a.isStringEmpty(e.classes)?a.a.isArray(e.classes)?" "+e.classes.join(" "):"":" "+a.a.trim(e.classes)),'<div class="comet-inner">','<div class="comet-header"></div>','<div class="comet-body"></div>',"</div>",r.innerHTML='<div class="comet-inner"><div class="comet-header"></div><div class="comet-body"></div></div>',n.appendChild(r),s=r.firstChild.firstChild,o=r.firstChild.lastChild,a.a.isString(e.header)?s.innerHTML=e.header:s.appendChild(e.header),a.a.isString(e.content)?o.innerHTML=e.content:o.appendChild(e.content),(c=t.createElement("button")).className="comet-button comet-close",c.title=e.close.title,c.innerHTML=e.close.icon,r.appendChild(c),Object(i.a)(c).on("click",function(t,n){if(t.preventDefault(),a.a.isFunction(e.done)&&1===e.done(t,n))return!1;r&&null!==r.parentNode&&r.parentNode.removeChild(r)}),t.body.appendChild(n),{target:r,modal:r.firstChild,header:s,body:o,destroy:function(){r&&null!==r.parentNode&&r.parentNode.removeChild(r)}}}},function(e,t,n){"use strict";var a=n(0);const i={get_set:function(e){const t=a.a.getSvgSets();return a.a.isObject(t)&&a.a.isString(e)&&a.a.isObject(t[e])?t[e]:{}},get_icon:function(e,t){return!!i.icon_exists(e,t)&&i.get_set(e).set[t]},get_svg:function(e,t){const n=i.get_icon(e,t);return n?'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+n.width+" "+n.height+'">'+n.path+"</svg>":""},get_svg_from_data:function(e){return a.a.isObject(e)&&"width"in e&&"height"in e&&"path"in e?'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+e.width+" "+e.height+'">'+e.path+"</svg>":""},set_exists:function(e){const t=a.a.getSvgSets();return a.a.isObject(t)&&a.a.isString(e)&&a.a.isObject(t[e])},icon_exists:function(e,t){const n=i.get_set(e);return a.a.isString(t)&&a.a.isObject(n)&&a.a.isObject(n.set)&&a.a.isObject(n.set[t])},decode:function(e){return!(a.a.isStringEmpty(e)||!a.a.isArray(e=a.a.trim(e).split(":"),2))&&{set_id:e[0],icon_id:e[1]}},encode:function(e,t){return!!i.icon_exists(e,t)&&e+":"+t}};t.a=i},function(e,t,n){"use strict";var a=n(0),i=n(1);t.a=function(e){const t={},n="comet"+Math.random().toString(36).substr(2,9);var r,s,c,o,l=null,u=null,d=!1;if(a.a.isObject(e)||(e={}),e.connectWith=a.a.isString(e.connectWith)?a.a.trim(e.connectWith):"ul",e.items=a.a.isString(e.items)?a.a.trim(e.items):"li",!("handle"in e)||""===e.items||""===e.connectWith)return!1;if(e.placeholder=a.a.isString(e.placeholder)?a.a.trim(e.placeholder):"cpb-placeholderUi",e.cursor=a.a.isString(e.cursor)?a.a.trim(e.cursor):"",e.containment="containment"in e?e.containment:document.body,e.bodyClass=a.a.isString(e.bodyClass)?a.a.trim(e.bodyClass):"cpb-sorting",(c=document.createElement("div")).id=n,c.className="placeholder "+e.placeholder,!(r=Object(i.a)(e.containment)).isNode())return!1;function m(t){const n=function(e){const t=[];var n,i,r;if(a.a.isStringEmpty(e)||!a.a.isArray(n=a.a.trim(e).split(","),1))return!1;for(r in n)if(!a.a.isStringEmpty(i=n[r]))switch((i=a.a.trim(i)).charAt(0)){case".":t[t.length]={type:"class",str:i.substring(1)};break;case"#":t[t.length]={type:"id",str:i.substring(1)};break;default:t[t.length]={type:"tag",str:i}}return t}(e.items),r=Object(i.a)(t);var s;if(!r.isNode()||n.length<1)return!1;for(s=0;s<n.length;s++){if("class"===n[s].type&&r.hasClass(n[s].str))return!0;if("id"===n[s].type&&t.id===n[s].str)return!0;if("tag"===n[s].type&&t.nodeName.toLowerCase()===n[s].str.toLowerCase())return!0}return!1}t.cursor=function(t){const n=Object(i.a)(u),r=n.isNode();if("destroy"===t&&r)return n.remove(),void(u=null);a.a.isObject(t)&&(r||((u=document.createElement("div")).id="comet-uiCursor",a.a.isStringEmpty(e.cursor)||(u.className=e.cursor),u.innerHTML='<span class="cico cico-move"></span>',Object(i.a)(document.body).append(u)),r&&(t.preventDefault(),u.style.left=t.pageX+"px",u.style.top=t.pageY+"px"))},t.onConnectWith=function(e,t){const n=t.children;var a;if(d){if(n.length>0)for(a=0;a<n.length;a++)if(m(n[a]))return;t.appendChild(c)}},t.onItems=function(e,t){var n,a,r,s,o,l,u,m;d&&(s=(n=Object(i.a)(t)).offset(),r=(a=n.height(0))/2,o=e.pageY-s.top,u=(l=n.width(0))/4,(m=e.pageX-s.left)<=u||o<=r&&m>=u&&m<=l-u?n.before(c):(m>=l-u||o<=a&&o>r)&&n.after(c))},Object(i.a)(document.documentElement).on("mousemove",function(e,n){const a=e.pageY;var i,s;d&&null!==u&&null!==l&&(!function e(){if(clearInterval(o),i=r.prop().scrollTop,s=r.height(0),!(isNaN(i)||isNaN(s)||isNaN(a)))return i>0&&a<10?(r.prop().scrollTop=i-1,void(o=setInterval(e,1))):void(a+5>s&&(r.prop().scrollTop=i+1,o=setInterval(e,1)))}(),t.cursor(e))}),Object(i.a)(e.handle).on("mousedown",function(n,r){var o,u,m;n.preventDefault(),s=setInterval(function(){l=r,t.cursor(n),a.a.isStringEmpty(e.bodyClass)||(u=Object(i.a)(document.body)).hasClass(e.bodyClass)||u.addClass(e.bodyClass),a.a.isFunction(e.start)&&((m=Object(i.a)(r).closest(e.connectWith))&&Object(i.a)(m).after(c),o=e.start(n,r),a.a.isObject(o)&&(l=o)),d=!0,clearInterval(s),Object(i.a)(e.connectWith).on("mouseenter",t.onConnectWith),Object(i.a)(e.items).on("mouseenter",t.onItems)},500)}),Object(i.a)(document.documentElement).on("mouseup",function(r,c){var u,m;r.preventDefault(),clearInterval(s),clearInterval(o),d&&(!a.a.isStringEmpty(e.bodyClass)&&(m=Object(i.a)(document.body)).hasClass(e.bodyClass)&&m.removeClass(e.bodyClass),u=document.getElementById(n),a.a.isFunction(e.stop)&&null!==l&&null!==u&&(e.stop(r,u,l),null!==u.parentNode&&u.parentNode.removeChild(u)),l=null,t.cursor("destroy"),d=!1)})}},function(e,t,n){"use strict";var a=n(0),i=n(3);const r={encode:function(e){var t,n,r,s,c;if(!a.a.isArray(e,2))return"";for(s="",n=0;n<e.length;n++)a.a.isObject(t=e[n])&&"color"in t&&(r=i.a.color(t.color))&&(c=i.a.number({value:t.stop,min:0,max:100,default:0,float:!0}),s+=(s.length>0?"+":"")+c+"z"+r);return s},decode:function(e){const t=[];var n,r,s,c,o;if(a.a.isStringEmpty(e)||!a.a.isArray(r=(e=a.a.trim(e)).split("+"),2))return!1;for(n=0;n<r.length;n++)!a.a.isStringEmpty(c=r[n])&&a.a.isArray(s=(c=a.a.trim(c)).split("z"),2)&&(o=i.a.color(s[1]))&&(t[t.length]={stop:i.a.number({value:s[0],min:0,max:100,default:0,float:!0}),color:o});return t}};t.a=r},function(e,t,n){"use strict";var a=n(0),i=n(1);t.a=function(e,t){const n=document,r="comet-message",s="comet-error",c="comet-warning",o="comet-success",l="comet-note",u={create:function(){const t=n.createElement("div");return e=a.a.isString(e)?a.a.stripTags(e,"<br><strong><u><i><em><strike><del><ins><a><b><code><ul><li><ol><s><sub><sup><small><span><mark>"):"",t.className=u.get_classes(),t.innerHTML="<p>"+e+"</p>",t},get_status:function(){switch(t){case 100:case"100":case"note":case"NOTE":return 100;case 200:case"200":case"success":case"SUCCESS":return 200;case 300:case"300":case"warning":case"WARNING":return 300;default:return 400}},get_classes:function(){const e=u.get_status();var t=r+" ";switch(e){case 100:t+=l;break;case 200:t+=o;break;case 300:t+=c;break;default:t+=s}return t},get_messages:function(e){var t;return(t=Object(i.a)(e)).isNode()?t.children(r):e===n?e.getElementsByClassName(r):[]}},d={replace:function(e){return!(!Object(i.a)(e).isNode()||null===e.parentNode)&&(e.parentNode.replaceChild(m,e),!0)},appendTo:function(e){return!!Object(i.a)(e).isNode()&&(e.appendChild(m),!0)},set:function(e){return!!Object(i.a)(e).isNode()&&(e.innerHTML="",e.appendChild(m),!0)},get:function(){return m},remove_existing:function(e){var t;return!((t=u.get_messages(e)).length<1)&&Object(i.a)(t).remove()}},m=u.create();return d}},function(e,t,n){"use strict";var a=n(0),i=n(1);t.a=function(e){const t=document,n="comet-confirm-box";var r,s,c,o=!1;return a.a.isObject(e)||(e={}),a.a.isObject(e.ui)||(e.ui={}),Object(i.a)(r=t.getElementById(n)).isNode()&&null!==r.parentNode&&r.parentNode.removeChild(r),e.ui.cancel=a.a.isStringEmpty(e.ui.cancel)?__cometi18n.ui.cancel:a.a.trim(e.ui.cancel),e.ui.done=a.a.isStringEmpty(e.ui.done)?__cometi18n.ui.done:a.a.trim(e.ui.done),e.message=a.a.isString(e.message)?a.a.trim(a.a.stripTags(e.message,"<strong><i><b><a><ins><u><sup><sub>")):"",o=t.createDocumentFragment(),r=t.createElement("div"),o.appendChild(r),r.id=n,r.className="comet-dialog comet-wrapper comet-alertbox",s='<div class="comet-inner">',s+='<div class="comet-textbox"><p>'+e.message+"</p></div>",s+='<div class="comet-buttonset">',s+='<button class="comet-button comet-cancel">'+e.ui.cancel+"</button>",s+='<button class="comet-button comet-buttonPrimary comet-done">'+e.ui.done+"</button>",s+="</div>",s+="</div>",r.innerHTML=s,c=r.firstChild.lastChild,Object(i.a)(c.firstChild).on("click",function(t,n){t.preventDefault(),a.a.isFunction(e.cancel)&&e.cancel(t,n),Object(i.a)(r).remove()}),a.a.isFunction(e.confirm)&&(e.data=a.a.isObject(e.data)?e.data:{value:e.data},e.data.dialog={target:r,destroy:function(){Object(i.a)(r).remove()}},Object(i.a)(c.lastChild).on("click",function(t,n){t.preventDefault(),e.confirm(t,n,e.data)})),t.body.appendChild(o),{target:r,destroy:function(){Object(i.a)(r).remove()}}}},function(e,t,n){e.exports=n(18)},,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(2),s=n(1),c=n(11),o=n(3),l=n(5),u=n(4),d=n(7),m=function(){const e={},t=p();return e.create=function(e){const n=t.getData();var i=0;return!!(e=r.a.type(e))&&(a.a.isObject(n[e])||(n[e]={}),i=!(i=r.a.id(n[e]._max))||i<0?0:i,i+=1,n[e]._max=i,n[e][i]={},t.setData(n),i)},e.insert=function(e,n,i,s){const c=t.getData();var o,l,u,d;if(!(e=r.a.id(e))||!1===(i=r.a.id(i))||!(n=t.hasType(n)))return!1;if(!(e in c[n]&&(l=t.getParent(n))))return!1;function m(t,n,i){var s,c,o;return a.a.isStringEmpty(t)?n.toString():("last"===i?(","!==t.substring(-1,1)&&(t+=","),t+=n.toString()):"first"===i?(","!==t.substring(0,1)&&(t=","+t),t=n.toString()+t):!1!==(i=r.a.id(i))&&(s=t.indexOf(i,0))>-1&&(o=t.slice(0,s),c=t.slice(s),t=o+e.toString()+","+c),t)}if(o="_"+n,"sections"===n){if((d=m(a.a.isString(u=c[o])?u:"",e,s))!==u)return c[o]=d,t.setData(c),!0}else if(a.a.isObject(c[l])){if(!(i in c[l]))return!1;if(a.a.isObject(c[l][i])||(c[l][i]={}),(d=m(a.a.isString(u=c[l][i][o])?u:"",e,s))!==u)return c[l][i][o]=d,t.setData(c),!0}return!1},e.remove=function(e,n,i){const s=t.getData();var c,o,l;if(!(e=r.a.id(e))||!(n=r.a.type(n)))return!1;function u(e,t){const n=[];var i,s,c=0;if(!a.a.isArray(s=r.a.ids(t,"array"),1))return!1;for(;c<s.length;c++)(i=r.a.id(s[c]))&&i!==e&&(n[n.length]=i);return n.join(",")}return o=t.getParent(n),c="_"+n,"sections"!==n||a.a.isStringEmpty(s[c])?!(!(i=t.hasId(o,i))||a.a.isStringEmpty(s[o][i][c]))&&(!!(l=u(e,a.a.trim(s[o][i][c],",")))&&(s[o][i][c]=l,t.setData(s),!0)):!!(l=u(e,a.a.trim(s[c],",")))&&(s[c]=l,t.setData(s),!0)},e.replace=function(e,n,i,s){const c=t.getData();var o,l,u;return!!((e=r.a.id(e))&&(n=r.a.id(n))&&!1!==(s=r.a.id(s))&&(i=r.a.type(i)))&&(l=t.getParent(i),o="_"+i,"sections"===i?(u=a.a.isString(c[o])?c[o]:"",u=a.a.trim(u,",").replace(e,n),c[o]=u,t.setData(c),!0):!!(s=t.hasId(l,s))&&(u=a.a.isString(c[cat][catId][o])?c[cat][catId][o]:"",u=a.a.trim(u,",").replace(e,n),c[cat][catId][o]=u,t.setData(c),!0))},e},p=function(){const e={},t=Object(u.a)();Object(d.a)();return e.getData=function(){var n=t.get("data");return a.a.isObject(n)?n:e.setData({})},e.setData=function(e){return!!a.a.isObject(e)&&t.set("data",e)},e.hasType=function(t){const n=e.getData();return!!(a.a.isObject(n)&&(t=r.a.type(t))&&a.a.isObject(n[t]))&&t},e.hasId=function(t,n){const a=e.getData();return!!((t=this.hasType(t))&&(n=r.a.id(n))&&n in a[t])&&n},e.getParent=function(e){switch(e=r.a.type(e)){case"rows":case"sections":return"sections";case"columns":return"rows";case"elements":return"columns";case"items":return"elements";default:return!1}},e.getChild=function(e){switch(e=r.a.type(e)){case"sections":return"rows";case"rows":return"columns";case"columns":return"elements";case"elements":return"items";default:return!1}},e.create=function(t,n,i,s){const c=m();var o,l,u,d=e.getData();if(!1===(n=r.a.id(n))||a.a.isStringEmpty(t))return!1;switch(a.a.isObject(s)||(s={}),t){case"sections":case"rows":case"columns":break;case"items":if(!a.a.isObject(d.elements)||!a.a.isObject(d.elements[n]))return!1;if(a.a.isStringEmpty(u=d.elements[n]._type)||!a.a.isObject(u=a.a.getElement(u)))return!1;if(!a.a.isObject(u.tabs)||!a.a.isObject(u.tabs.items))return!1;break;default:if(!a.a.isObject(o=a.a.getElement(t))||!a.a.isObject(o.tabs))return!1;s._type=t,t="elements"}return!(!(l=c.create(t))||!c.insert(l,t,n,i))&&(d=e.getData(),a.a.isObject(d[t])||(d[t]={}),a.a.isObject(d[t][l])||(d[t][l]={}),d[t][l]=s,this.setData(d),l)},e.insert=function(t,n,i){var s=e.getData();return!(!(n=r.a.type(n))||!(t=r.a.id(t)))&&(a.a.isObject(s)||(s={}),a.a.isObject(s[n])||(s[n]={}),t in s[n]||(s[n][t]={}),s[n][t]=a.a.extend({},i),this.setData(s),s[n][t])},e.set=function(t,n,i){var s,c=e.getData();if(!(n=this.hasType(n))||!(t=r.a.id(t))||!a.a.isObject(i))return!1;for(s in a.a.isObject(c[n][t])||(c[n][t]={}),i)c[n][t][s]=i[s];return this.setData(c),c[n][t]},e.get=function(t,n){const i=e.getData();return!!((t=r.a.id(t))&&(n=this.hasType(n))&&a.a.isObject(i[n][t]))&&i[n][t]},e.remove=function(t,n,i){const s=e.getData(),c=m();if(!((t=r.a.id(t))&&(n=e.hasType(n))&&t in s[n]))return!1;return function(){const i=e.getChild(n);var c,o,l,u;if(!i&&a.a.isObject(s[i])&&a.a.isObject(s[n][t])&&(o="_"+i)in s[n][t]&&a.a.isArray(c=r.a.ids(s[n][t][o],"array"),1))for(u in c)(l=r.a.id(c[u]))&&l in s[i]&&(e.remove(l,i),delete s[i][l])}(),c.remove(t,n,i),delete s[n][t],e.setData(s),!0},e.removeIds=function(t,n){const a=e.getData();var i,s;return!!((t=this.hasId(n,t))&&(n=r.a.type(n))&&(i=this.getChild(n)))&&(s="_"+i,a[n][t][s]="",this.setData(a),!0)},e.clone=function(t,n,s){const c=e.getData(),o=m();var l,u,d,p,b,f,g={};if(s=s&&(s=r.a.id(s))?s:0,!((t=r.a.id(t))&&(n=this.hasType(n))&&t in c[n]))return!1;if(!(b=o.create(n))||!o.insert(b,n,s,"last"))return!1;if(a.a.isObject(c[n][t])&&(g=c[n][t]),!this.insert(b,n,g))return!1;if(!a.a.isObject(c[n][t])||!(l=this.hasType(this.getChild(n))))return b;if(u="_"+l,a.a.isStringEmpty(c[n][t][u])||!a.a.isArray(p=r.a.ids(c[n][t][u],"array"),1))return b;for(i in p)(d=r.a.id(p[i]))&&a.a.isObject(c[l][d])&&(f=this.clone(d,l))&&(p[i]=f,c[n][b][u]=p.join(","));return this.setData(c),b},e};var b={workflow:function(){const e=Object(s.a)(window).width(),t=a.a.getNode("frame"),n=a.a.getNode("sidebar"),i=document.getElementById("comet-panel"),r=document.getElementById("comet-editorToolbar"),c="true"===__cometdata.rtl?"right":"left";var o,l,u,d,m,p,b;if(o=l=u=0,!(b=Object(s.a)(t)).isNode())return!1;Object(s.a)(n).isNode()&&(o=Object(s.a)(n).width()),(m=Object(s.a)(i)).isNode()&&(i.style[c]=o+"px",l=m.width()),d=e-o-l,t.style[c]=o+l+"px",(p=Object(s.a)(r)).isNode()&&(u=p.height(),t.style.top=u+"px",t.style.height="calc(100% - "+u+"px)"),b.hasClass("cpb-desktopMode")||b.addClass("cpb-desktopMode"),t.style.maxWidth=d+"px"},gradient:function(e){const t=[];var n,i,r,l,u,d,m,p,b;if(!Object(s.a)(e).isNode()||!(n=Object(s.a)(e.parentNode)).isNode()||(i=n.prop().children).length<1)return!1;for(r in i)if((d=Object(s.a)(i[r])).hasClass("comet-eGColor")&&!((l=d.prop().children).length<1))for(u in l)Object(s.a)(l[u]).hasClass("comet-fieldColor")&&""!==(m=o.a.color(l[u].value))&&((p=!a.a.isNumber(p=parseInt(d.prop().style.left))||isNaN(p)?0:p)<0&&(p=0),p>100&&(p=100),t[t.length]={stop:p,color:m});if(!(_g=Object(s.a)(n.prop().parentNode)).isNode()||(l=_g.prop().children).length<1)return!1;for(u in b=c.a.encode(t),l)Object(s.a)(l[u]).hasClass("comet-field")&&(l[u].value=b)},columns:function(e){const t=p(),n=Object(s.a)(e);var a,i,c,o;if(!n.isNode())return!1;if(e.dataset.ncol=0,(a=n.children("cpb-column")).length<1)return!1;for(e.dataset.ncol=a.length,c=Number(100/a.length).toFixed(2),i=0;i<a.length;i++)Object(s.a)(a[i]).isNode()&&(o=r.a.dataset(a[i],"id"))&&(o=r.a.id(o))&&(t.set(o,"columns",{wsize:c}),Object(l.a)(t.getData(),"css").column(o))}},f=function(e){const t="comet-editorToolbar",n={},i=Object(d.a)(),c=i.id(),o=i.item(),l=i.node(),u=i.type(),m={active:"cpb-active",textarea:"comet-fieldEditor",editor:"cpb-editable"},b=document.getElementsByClassName(m.textarea);var f=0,g=document.getElementById(t);e=!!a.a.isBool(e)&&e,function(){var t,i,d;const h={triggered:function(e){const t=r.a.id(r.a.dataset(e,"id"));var n=h.matched(e);return!(!n||!(c===t&&!o||o&&o===t))&&n},matched:function(e){const t=r.a.dataset(e,"match");for(var n=0;n<b.length;n++)if(Object(s.a)(b[n]).isNode()&&!a.a.isStringEmpty(b[n].name)&&a.a.trim(b[n].name)===t)return b[n];return!1},focus:function(e,t){var i,c;function o(e,t){const n=r.a.dataset(e,"command");return a.a.isString(n)&&a.a.trim(n)===t}e.preventDefault(),window.getSelection&&window.getSelection().modify&&(n.range=window.getSelection().getRangeAt(0),n.clicked=!0),(i=g.getElementsByClassName("comet-tbButton")).length<1||!(c=Object(s.a)(e.target)).isNode()||(Object(s.a)(i).removeClass(m.active),function e(t){var n,a,r;if(!Object(s.a)(t).hasClass(m.editor)&&null!==t.parentNode){switch(t.nodeName.toLowerCase()){case"b":case"bold":case"bolder":case"strong":n="bold";break;case"i":case"em":case"italic":n="italic";break;case"u":case"ins":case"underline":n="underline";break;case"del":case"strike":case"strikethrough":n="strikeThrough";break;case"a":case"link":n="link";break;default:return}for(r=0;r<i.length;r++)(a=Object(s.a)(i[r])).isNode()&&o(i[r],n)&&a.addClass(m.active);e(t.parentNode)}}(c.prop()))},change:function(e,t){const n=h.matched(t);n&&(n.value=a.a.stripTags(t.innerHTML,"<p><strong><ins><del><sup><sub><b><i><span><u><em><strike><a><h1><h2><h3><h4><h5><h6><hr><br><img><caption>"),p().catchAndSet(c,u))}};if(e)!function(){const e=document.getElementsByClassName(m.editor);var t,n;if(!(e.length<1))for(t=0;t<e.length;t++)(n=Object(s.a)(e[t])).isNode()&&(e[t].removeAttribute("contenteditable"),n.removeClass(m.active))}();else if(!(!Object(s.a)(l).isNode()||(t=l.getElementsByClassName(m.editor)).length<1||b.length<1))for(d=0;d<t.length;d++)(i=Object(s.a)(t[d])).isNode()&&(!e&&h.triggered(t[d])?(t[d].setAttribute("contenteditable","true"),i.addClass(m.active),i.on("click",h.focus),i.on("input",h.change),f++):(t[d].removeAttribute("contenteditable"),i.removeClass(m.active)))}(),function(){const i=a.a.getNode("frame");var r=Object(s.a)(g);const c=r.isNode(),o={create:function(){const e=o.buttons();var n,r,c,l,u;for((g=document.createElement("div")).id=t,u=0;u<e.length;u++)n=e[u],(r=document.createElement("button")).dataset.command=n.command,r.className="comet-button comet-tbButton",l="comet-title",c="","icon"in n&&(c+='<span class="comet-icon '+n.icon+'"></span>',l+=" comet-tooltip"),"title"in n&&(c+='<span class="'+l+'">'+n.title+"</span>"),r.innerHTML=c,a.a.isFunction(n.render)?g.appendChild(n.render(r)):g.appendChild(r),Object(s.a)(r).on("click",n.do);i.before(g)},buttons:function(){const e=function(e,t){var i;t=a.a.isStringEmpty(t)?null:a.a.trim(t),window.getSelection&&window.getSelection().modify&&null!==n.range&&(i=window.getSelection(),n.clicked&&(i.removeAllRanges(),i.addRange(n.range)),"Caret"===i.type&&(i.modify("move","backward","word"),i.modify("extend","forward","word")),i.getRangeAt(0),document.execCommand(e,!1,t),n.clicked=!1)},t=function(e){const t=Object(s.a)(e);return t.hasClass(m.active)?(t.removeClass(m.active),!1):(t.addClass(m.active),!0)};return[{command:"bold",icon:"cico cico-bold",title:__cometi18n.ui.bold,do:function(n,a){n.preventDefault(),t(a),e("bold")}},{command:"italic",icon:"cico cico-italic",title:__cometi18n.ui.italic,do:function(n,a){n.preventDefault(),t(a),e("italic")}},{command:"underline",icon:"cico cico-underline",title:__cometi18n.ui.underline,do:function(n,a){n.preventDefault(),t(a),e("underline")}},{command:"strikeThrough",icon:"cico cico-striketrough",title:__cometi18n.ui.st,do:function(n,a){n.preventDefault(),t(a),e("strikeThrough")}},{command:"link",icon:"cico cico-link",title:__cometi18n.ui.ilink,render:function(t){const n=document.createElement("div"),i=document.createElement("input"),r=document.createElement("button");return n.className="comet-inline",r.className="comet-button comet-done",r.innerHTML='<span class="comet-icon cico cico-break"></span><span class="comet-title comet-tooltip">'+__cometi18n.ui.ilink+"</span>",n.appendChild(t),n.appendChild(i),n.appendChild(r),Object(s.a)(r).on("click",function(t,n){const r=a.a.isString(i.value)?a.a.trim(a.a.stripTags(i.value)):"",s=""===r?"unlink":"createLink";t.preventDefault(),e(s,r)}),n},do:function(e,n){const a=Object(s.a)(n.parentNode);e.preventDefault(),t(n)?a.addClass(m.active):a.removeClass(m.active)}}]}};if(e||f<1)return c&&r.remove(),i.style.height="",void(i.style.top="");c||o.create()}()},g=function(e,t){var n,a=!1;if(e){if("object"!=typeof t&&(t={}),Object(s.a)(e).isNode())p(e);else{if(!(e!==document&&e!==window&&"object"==typeof e&&e.length>0))return;for(n in e)Object(s.a)(e[n]).isNode()&&p(e[n])}Object(s.a)(document.documentElement).on("mouseup",function(e,n){e.preventDefault(),"function"==typeof t.stop&&t.stop(e,n),a=!1})}function i(e){var t,n,a;return Object(s.a)(e).isNode()?{min:n=r(e.getAttribute("min")),max:a=(t=r(e.getAttribute("max")))<=n?n+10:t,step:(t=r(e.getAttribute("step")))<=0?.1:t,value:(t=r(e.value))>=n&&t<=a?t:n}:{min:0,max:360,step:1,value:0}}function r(e){return"number"!=typeof e&&"string"!=typeof e?0:"number"!=typeof(e=parseFloat(e))||isNaN(e)?0:e}function c(e,t,n,a,i){var c,o,l;return!(!Object(s.a)(e).isNode()||!(c=Object(s.a)(e.parentNode).width()))&&(c=e.parentNode.scrollWidth,c-=o=(o=r(Object(s.a)(e).width()))>0?o:0,l=parseInt(t/(i*((a-n)/i)+n)*c),e.style.left=l+"px",l)}function o(e,n,a,r){var o,l;return e.preventDefault(),!("object"!=typeof a||!Object(s.a)(a.source).isNode()||!Object(s.a)(a.dragger).isNode())&&(o=i(a.source),l=(l=Number((r?o.value+o.step:o.value-o.step).toFixed(2)))<o.min?o.min:l>o.max?o.max:l,a.source.value=l,a.value=l,c(a.dragger,l,o.min,o.max,o.step),"function"==typeof t.change&&t.change(e,n,a),!0)}function l(e,n,c){var o,l,u,d,m,p,b;e.preventDefault(),e.stopPropagation(),("mousemove"===e.type&&a||"click"===e.type)&&(l=Object(s.a)(c.range).width())&&(o=c.range.getBoundingClientRect().left)&&(b=i(c.source),u=(u=r(Object(s.a)(c.dragger).width()))>0?u:0,("number"!=typeof(m=parseInt(e.pageX-o))||isNaN(m))&&(m=0),(m-=u/2)>(l-=u)&&(m=l),m<0&&(m=0),c.dragger.style.left=parseInt(m)+"px",p=m/(l||1),d=b.step*Math.round(p*(b.max-b.min)/b.step)+b.min,d=Number(d.toFixed(2)),c.source.value=d,c.value=d,"function"==typeof t.change&&t.change(e,n,c))}function u(e,n,i){e.preventDefault(),"object"==typeof i&&Object(s.a)(i.source).isNode()&&Object(s.a)(i.range).isNode()&&("function"==typeof t.start&&t.start(e,n,i),i.value=r(i.source.value),a=!0)}function d(e,n,a){o(e,n,a,!0)&&"function"==typeof t.increase&&t.increase(e,n,a)}function m(e,n,a){o(e,n,a,!1)&&"function"==typeof t.decrease&&t.decrease(e,n,a)}function p(e){const n=e.parentNode,a={};var r,o,p,b,f;n&&((r=document.createElement("div")).className="comet-eRange",(o=document.createElement("button")).className="comet-eRDragger",r.appendChild(o),a.source=e,a.range=r,a.dragger=o,t.buttons?((p=document.createElement("button")).className="comet-eRDecrease comet-button",p.innerHTML="-",(b=document.createElement("button")).className="comet-eRIncrease comet-button",b.innerHTML="+",n.appendChild(p),n.appendChild(r),n.appendChild(b),a.decrease=p,a.increase=b,Object(s.a)(p).on("click",m,a),Object(s.a)(b).on("click",d,a)):n.appendChild(r),f=i(e),c(a.dragger,f.value,f.min,f.max,f.step),Object(s.a)(o).on("mousedown",u,a),Object(s.a)(r).on("click mousemove",l,a),Object(s.a)(e).on("setValue",function(t,n){const r=i(e);c(a.dragger,r.value,r.min,r.max,r.step)}))}},h=function(e,t){var n=!1;const i=[],r={type:"hex",value:"#FFFFFF",data:["#","FFFFFF"],hsb:[0,0,1],alpha:1},c={value:function(e,t,n,i,r){return(a.a.isString(e)||a.a.isNumber(e))&&(e=r?parseFloat(e):parseInt(e))>=t&&e<=n?e:i},color:function(e){var t;return!a.a.isString(e)||a.a.isEmpty(e)?null:null!==(t=this.rgb_(e))?t:null!==(t=this.hex(e))?t:null},hex:function(e){const t=/([0-9a-f]{6}|[0-9a-f]{3})/i;var n,i,r,s;if(a.a.isString(e)&&null!==(n=e.match(t))&&a.a.isString(n[1])){if(3===(i=n[1]).length)for(r=i.charAt(2),s=0;s<3;s++)i+=r;return{type:"hex",value:d("hex",i),data:["#",i],hsb:o.hexhsb(i),alpha:1}}return null},rgb_:function(e){const t=/(rgba?)\(\s*(\d{1,3})\s*\,\s*(\d{1,3})\s*\,\s*(\d{1,3})\s*(\,\s*([\d\.]+)\s*)?\)/i;var n,i,r,s,c,l;return a.a.isString(e)&&null!==(n=e.match(t))&&a.a.isString(n[1])&&("rgba"===(i=n[1].toLowerCase())||"rgb"===i)?{type:i,value:d(i,[r=this.value(n[2],0,255,0),s=this.value(n[3],0,255,0),c=this.value(n[4],0,255,0),l=this.value(n[6],0,1,1,!0)]),data:[i,r,s,c,l],hsb:o.rgbhsb([r,s,c]),alpha:l}:null}},o={hexrgb:function(e){return a.a.isString(e)&&6===e.length?[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)]:null},rgbhex:function(e){return a.a.isArray(e,3)?("000000"+(+e[2]|+e[1]<<8|+e[0]<<16).toString(16)).slice(-6):""},rgbhsb:function(e){const t=+e[0],n=+e[1],a=+e[2],i=Math.max(t,n,a),r=Math.min(t,n,a),s=i-r,c=0===i?0:s/i,o=i/255;var l;switch(i){case r:l=0;break;case t:l=n-a+s*(n<a?6:0),l/=6*s;break;case n:l=a-t+2*s,l/=6*s;break;case a:l=t-n+4*s,l/=6*s}return[l,c,o]},hsbrgb:function(e){var t,n,a;const i=+e[0],r=+e[1],s=+e[2];var c=Math.floor(6*i);const o=6*i-c,l=s*(1-r);var d=s*(1-o*r),m=s*(1-(1-o)*r);switch(t=n=a=0,d=d||0,m=m||0,(c=c||0)%6){case 0:t=s,n=m,a=l;break;case 1:t=d,n=s,a=l;break;case 2:t=l,n=s,a=m;break;case 3:t=l,n=d,a=s;break;case 4:t=m,n=l,a=s;break;case 5:t=s,n=l,a=d}return[u(255*t),u(255*n),u(255*a)]},hexhsb:function(e){return this.rgbhsb(this.hexrgb(e))},hsbhex:function(e){return this.rgbhex(this.hsbrgb(e))}},l={saturation:function(e,r){Object(s.a)(e).isNode()&&Object(s.a)(e).on("mousemove mousedown click",function(c,o){const l=c.type;var u,d,p,b,f,g,h,v,y,O,j,C,N,w,_,E;c.preventDefault(),c.stopPropagation(),"mousedown"===l&&"click"!==l&&(n=!0),("mousemove"===l&&n||"click"===l)&&(p=Object(s.a)(o))&&(y=p.width())&&(O=p.height())&&(g=(v=o.getBoundingClientRect()).left)&&(h=v.top)&&(w=a.a.isNumber(w=parseInt(c.pageX-g))&&w>0?w:0,_=a.a.isNumber(_=parseInt(c.pageY-h))&&_>0?_:0,b=(b=w-(E=(j=(j=Object(s.a)(r.dragger).width())>0?j:0)/2))>y-E?y-E:b<0?-E:b,f=(f=_-E)>O-j/2?O-E:f<0?-E:f,r.dragger.style.left=parseInt(b)+"px",r.dragger.style.top=parseInt(f)+"px",C=(C=w/(y-1))<0?0:C>1?1:C,N=(N=1-_/(O-1))<0?0:N>1?1:N,i[1]=C,i[2]=N,d={render:r.render,source:r.source},t.input&&(d.input=r.input),u=m(d),a.a.isFunction(t.onchange)&&t.onchange(e,r.source,u))})},click:function(e,n,a){var o,u,d,b,f,g,h,v,y,O,j,C;p()||(o=null===(o=c.color(a.source.value))?r:o,i[0]=o.hsb[0],i[1]=o.hsb[1],i[2]=o.hsb[2],i[3]=o.alpha,u=n.getBoundingClientRect(),(d=document.createElement("div")).className="comet-colorPicker",d.style.left=u.left+"px",d.style.top=u.top+Object(s.a)(n).height()+"px",document.body.appendChild(d),(b=document.createElement("div")).className="comet-cpSat",d.appendChild(b),a.sat=b,(f=document.createElement("button")).className="comet-cpDragger",b.appendChild(f),a.dragger=f,(g=document.createElement("div")).className="comet-cpContent",d.appendChild(g),(h=document.createElement("div")).className="comet-cpwHue",g.appendChild(h),(v=document.createElement("input")).className="comet-cpHue",v.type="hidden",v.setAttribute("min",0),v.setAttribute("max",360),v.setAttribute("step",1),h.appendChild(v),a.hue=v,t.opacity&&((y=document.createElement("div")).className="comet-cpwOpacity",g.appendChild(y),(O=document.createElement("input")).className="comet-cpOpacity",O.type="hidden",O.setAttribute("min",0),O.setAttribute("max",1),O.setAttribute("step",.01),y.appendChild(O),a.opacity=O),t.input&&((j=document.createElement("div")).className="comet-cpwInput",g.appendChild(j),(C=document.createElement("input")).className="comet-cpInput",C.type="text",j.appendChild(C),a.input=C),m(a),l.saturation(b,a),l.hue(v,a),l.opacity(O,a),l.input(C,a))},hue:function(e,n){Object(s.a)(e).isNode()&&g(e,{change:function(r,s,c){const l=c.value/360;var u;i[0]=l,n.hsb=i,n.sat.style.backgroundColor=d("hex",o.hsbhex([l,1,1])),u=m({input:n.input,source:n.source,render:n.render}),a.a.isFunction(t.onchange)&&t.onchange(e,n.source,u)}})},opacity:function(e,n){Object(s.a)(e).isNode()&&g(e,{change:function(r,s,o){const l=c.value(o.value,0,1,1,!0);var u;i[3]=l,n.hsb=i,n.alpha=l,u=m({source:n.source,input:n.input,render:n.render}),a.a.isFunction(t.onchange)&&t.onchange(e,n.source,u)}})},input:function(e,n){Object(s.a)(e).isNode()&&Object(s.a)(e).on("change paste cut",function(r,s){const o="paste"===r.type?(r.clipboardData||window.clipboardData).getData("text"):s.value,l=c.color(o);var u;r.preventDefault(),null!==l?(i[0]=l.hsb[0],i[1]=l.hsb[1],i[2]=l.hsb[2],i[3]=l.alpha,u=m(n),a.a.isFunction(t.onchange)&&t.onchange(e,n.source,u)):s.value=""})},clear:function(e,n,i){e.preventDefault(),i.source.value="",i.render.style.backgroundColor="",a.a.isFunction(t.onchange)&&t.onchange(n,i.source,"")}};function u(e){return Math.round(e)}function d(e,t){switch(e){case"#":case"hex":return a.a.isString(t)?"#"!==t.charAt(0)?"#"+t:t:"";case"rgb":return a.a.isArray(t,3)?"rgb("+t[0]+","+t[1]+","+t[2]+")":"";case"rgba":return a.a.isArray(t,4)?"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")":"";case"hsl":return a.a.isArray(t,3)?"hsl("+t[0]+","+t[1]+","+t[2]+")":"";case"hsla":return a.a.isArray(t,4)?"hsla("+t[0]+","+t[1]+","+t[2]+","+t[3]+")":"";default:return""}}function m(e){var t,n,r,l,u,m;if(a.a.isObject(e))return t=a.a.isArray(i,3)?1===(u=a.a.isSet(i[3])?c.value(i[3],0,1,1,!0):1)?d("hex",m=o.hsbhex([i[0],i[1],i[2]])):d("rgba",[(m=o.hsbrgb([i[0],i[1],i[2]]))[0],m[1],m[2],u]):"",e.dragger&&e.sat&&(e.sat.style.backgroundColor=d("hex",o.hsbhex([i[0],1,1])),(n=Object(s.a)(e.sat))&&(r=n.width())&&(l=n.height())&&(e.dragger.style.left=i[1]*(r-1)+"px",e.dragger.style.top=-(i[2]-1)*(l-1)+"px")),e.opacity&&(e.opacity.value=c.value(i[3]||0,0,1,1,!0),Object(s.a)(e.opacity).trigger("setValue")),e.hue&&(e.hue.value=c.value(360*(i[0]||0),0,360),Object(s.a)(e.hue).trigger("setValue")),e.input&&(e.input.value=t),e.source&&(e.source.value=t),e.render&&(e.render.style.backgroundColor=t),t}function p(){const e=document.getElementsByClassName("comet-colorPicker");return e.length>0&&(Object(s.a)(e).remove(),!0)}function b(e){const n={};var a,i,o;e.parentNode&&(t.clear&&((o=document.createElement("button")).className="comet-cpClear",e.parentNode.appendChild(o),Object(s.a)(o).on("click",l.clear,n)),(a=document.createElement("button")).className="comet-cpRender",e.parentNode.appendChild(a),e.type="hidden",i=null===(i=c.color(e.value))?r:i,a.style.backgroundColor=i.value,n.source=e,n.render=a,n.hsb=i.hsb,n.alpha=i.alpha,Object(s.a)(a).on("click",l.click,n),t.clear&&Object(s.a)(o).on("click",l.clear,n))}e&&(a.a.isObject(t)||(t={}),function(){var t,i,r;if((i=Object(s.a)(e)).isNode())b(e);else{if(!a.a.isObject(r=i.get())&&!a.a.isArray(r,1)||i.isView())return;for(t in e)Object(s.a)(e[t]).isNode()&&b(e[t])}Object(s.a)(document).on("mouseup",function(){n=!1}),Object(s.a)(".comet-modalContent").on("scroll",p)}())},v=function(e){var t,n,i,c,u,m,b=!1;const g=document,h={},v=p(),y=Object(d.a)(),O=y.node(),j={is_true:function(e){return["true","TRUE",!0].indexOf(e)>-1},background:function(e){const t=Object(s.a)(e);var n,i,r;t.isNode()&&((i=t.children("cpb-backgroundComponents")).length>0&&Object(s.a)(i).remove(),(r=g.createElement("div")).className="cpb-backgroundComponents",e.appendChild(r),n="","vid"in b&&j.is_true(b.vid)&&a.a.isString(b.vurl)&&(n+='<video class="cpb-backgroundVideo" src="'+a.a.trim(a.a.stripTags(b.vurl))+'" loop autoplay muted preload="auto"></video>'),"ov"in b&&j.is_true(b.ov)&&a.a.isString(b.ovc)&&(n+='<div class="cpb-backgroundOverlay"></div>'),r.innerHTML=n)},resizeColumns:function(){var t,n,c,d,m,p,b,f,g,y,j=h[u];const C=O.parentNode,N={isSibling:function(e){var t;return!!(Object(s.a)(e).hasClass("cpb-column")&&(t=r.a.dataset(e,"id"))&&(t=r.a.id(t)))&&t},getNextSibling:function(e){var t,n,a;return null!==e&&null!==(t=e.nextSibling)&&((n=N.isSibling(t))&&(a=v.get(n,i))?{id:n,node:t,width:a.wsize}:N.getNextSibling(t))},getPrevSibling:function(e){var t,n,a;return null!==e&&null!==(t=e.previousSibling)&&((n=N.isSibling(t))&&(a=v.get(n,i))?{id:n,node:t,width:a.wsize}:N.getPrevSibling(t))},getSibling:function(){var e;return(e=N.getNextSibling(O))?e:!!(e=N.getPrevSibling(O))&&e}};if(null===C||"wsize"!==u)return j;if(!(n=N.getSibling()))return e.value=100,100;for(d=C.children,m=0,g=0,y=0,c=0;c<d.length;c++)(b=N.isSibling(d[c]))&&a.a.isObject(f=v.get(b,i))&&(t=o.a.number({value:f.wsize,min:10,default:10}),d[c]!==O?d[c]!==n.node?m+=t:g=t:y=t);return p=y-(j=o.a.number({value:parseFloat(j),min:10,default:10})),(m=m+j+(g=o.a.number({value:g+p,min:10,default:10})))>100?(p=m-100,m-=g,(m+=g=o.a.number({value:g-p,min:10,default:10}))>100&&(p=m-100,m-=j,j=o.a.number({value:j-p,min:10,default:10}))):m<100&&(j+=p=100-m),v.set(n.id,i,{wsize:g}),Object(l.a)(v.getData(),"css").column(n.id),e.value=j,j}};if(!(Object(s.a)(e).isNode()&&(t=r.a.id(y.id()))&&(i=r.a.type(y.type()))&&O))return!1;if((n=["select","textarea","input"].indexOf(e.nodeName.toLowerCase()))<0)return!1;if(!a.a.isString(e.name)||a.a.isStringEmpty(u=a.a.trim(a.a.stripTags(e.name))))return!1;if(b=a.a.isObject(b=v.get(t,i))?b:{},h[u]=a.a.stripOnly(e.value,"<script><link><body><html><meta>"),2===n&&e.type)switch(e.type.toLowerCase()){case"checkbox":h[u]=e.checked?"true":"false";break;case"number":h[u]=parseFloat(h[u])}switch(i){case"sections":return v.set(t,"sections",h),j.background(Object(s.a)(O).child("cpb-sectionContent")),void Object(l.a)(v.getData(),"css").section(t);case"rows":return v.set(t,"rows",h),j.background(Object(s.a)(O).child("cpb-rowContent")),void Object(l.a)(v.getData(),"css").row(t);case"columns":if(!(m=j.resizeColumns()))return;return h[u]=m,v.set(t,"columns",h),j.background(Object(s.a)(O).child("cpb-columnContent")),void Object(l.a)(v.getData(),"css").column(t);case"elements":return v.set(t,"elements",h),(c=Object(l.a)(v.getData()).element(t,!0))?(O.parentNode.replaceChild(c,O),f(),!0):!1;default:return!1}},y=n(8),O=n(9),j=function(e){const t=document,n=a.a.getNode("editor"),i="comet-panel",r=t.createDocumentFragment();var c,l,u,d,m,p;return(e=a.a.isObject(e)?e:{}).close=a.a.isObject(e.close)?e.close:{},e.close.title=a.a.isStringEmpty(e.close.title)?__cometi18n.ui.close:a.a.trim(e.close.title),e.close.inner=a.a.isStringEmpty(e.close.inner)?'<span class="cico cico-x"></span>':a.a.trim(e.close.inner),(c=Object(s.a)(t.getElementById(i))).isNode()&&c.remove(),(c=t.createElement("div")).id=i,c.className="comet-panel comet-ui",c.innerHTML='<div class="comet-header"><div class="comet-top"></div></div><div class="comet-body"></div>',c.style.left=o.a.number({value:e.position,default:0,min:0}),r.appendChild(c),u=c.firstChild,l=c.lastChild,(d=t.createElement("button")).className="comet-button comet-close",""!==e.close.title&&(d.title=e.close.title),d.innerHTML=e.close.inner,u.firstChild.appendChild(d),a.a.isStringEmpty(e.title)||((m=t.createElement("span")).className="comet-title",m.innerHTML=a.a.trim(e.title),u.firstChild.appendChild(m)),"tabs"in e&&e.tabs&&((p=t.createElement("div")).className="comet-tabs",p.appendChild(e.tabs),u.appendChild(p)),"content"in e&&e.content?l.appendChild(e.content):l.innerHTML=__cometi18n.messages.error.unreach,n.appendChild(r),b.workflow(),Object(s.a)(d).on("click",function(t,n){var i;t.preventDefault(),a.a.isFunction(e.close.do)&&(i=e.close.do(t,n)),a.a.isBool(i)&&!i||(Object(s.a)(c).remove(),b.workflow())}),{target:c,destroy:function(){Object(s.a)(c).remove(),b.workflow()}}};const C=function(e,t){const n=document,i={active:"comet-active",tab:"comet-tab"},u=function(e,t,n){e.preventDefault(),Object(s.a)(t.parentNode.children).removeClass(i.active),Object(s.a)(n.parentNode.children).removeClass(i.active),Object(s.a)(n).addClass(i.active),Object(s.a)(t).addClass(i.active)},f=function(e,t,n){e.preventDefault(),Object(s.a)(n).toggleClass(i.active)},N={add:function(e,t,n){const a=Object(d.a)();var i,r;e.preventDefault(),Object(s.a)(n).isNode()&&(i=a.id())&&null!==a.type()&&(r=p().create("items",i,"last"))&&n.appendChild(w.item(r))},edit:function(e,t,n){const i=Object(d.a)(),s=p();var c,o,l,u,m;e.preventDefault(),(c=r.a.id(n.id))&&(l=i.id())&&a.a.isObject(u=s.get(l,"elements"))&&a.a.isObject(m=a.a.getElement(u._type))&&a.a.isObject(m.tabs)&&a.a.isObject(m.tabs.items)&&a.a.isObject(m.tabs.items.tabs)&&(o=C(m.tabs.items.tabs,s.get(c,"items")),i.set({state:"items",item:c}),j({title:__cometi18n.ui.editItem,tabs:o.tabs,content:o.content,close:{inner:'<span class="cico cico-arrow-left-alt"></span>',title:__cometi18n.ui.back,do:function(){if(!l)return!1;const e=C(m.tabs,u);i.set({state:null,item:null}),j({title:__cometi18n.options.element.edit,tabs:e.tabs,content:e.content,close:{do:function(){i.reset()}}})}}}))},delete:function(e,t,n){const a=p(),i=Object(d.a)();var c,o,u,m,b;e.preventDefault(),(m=Object(s.a)(n.target)).isNode()&&(o=r.a.id(n.id))&&a.remove(o,"items",c=i.id())&&(m.remove(),(u=i.node())&&(b=Object(l.a)(a.getData()).element(c,!0))&&u.parentNode.replaceChild(b,u))},sort:function(e){return{connectWith:".comet-items-sortable",items:".comet-item-sortable",placeholder:"comet-item comet-ui comet-ui-placeholder",cursor:"cpb-elementCursor",bodyClass:"",start:function(e,t){if(null!==t.parentNode)return t.parentNode.style.visibility="hidden",t.parentNode},stop:function(t,n,a){const i=Object(d.a)(),c=m();var o,u,b,f,g,h;a.removeAttribute("style"),(o=i.id())&&(g=Object(s.a)(n).next(".comet-item-sortable"),u=(f=Object(s.a)(g)).isNode()&&(u=r.a.dataset(f.prop(),"id"))&&(u=r.a.id(u))?u:"last",c.remove(e,"items",o),c.insert(e,"items",o,u),n.parentNode.replaceChild(a,n),(h=i.node())&&null!==h&&(b=Object(l.a)(p().getData()).element(o,!0))&&h.parentNode.replaceChild(b,h))}}}},w={tabs:function(){const t=n.createDocumentFragment(),r=n.createDocumentFragment();var c,o,l,d,m,p=1;if(a.a.isObject(e))for(c in e)o="items"===c,a.a.isObject(l=e[c])&&a.a.isString(l.name)&&(o||a.a.isObject(l.sections))&&(!o||a.a.isObject(l.tabs))&&((d=n.createElement("button")).className=i.tab+(1===p?" "+i.active:""),d.innerHTML=l.name,t.appendChild(d),(m=n.createElement("div")).className=i.tab+(1===p?" "+i.active:""),m.appendChild(w.tab(o?l.tabs:l.sections,o)),r.appendChild(m),Object(s.a)(d).on("click",u,m),p++);return{tabs:t,content:r}},tab:function(e,i){const c=n.createDocumentFragment();var o,l,u,d,m,b;if(a.a.isBool(i)&&i){if((o=n.createElement("div")).className="comet-section comet-items comet-ui",o.innerHTML='<div class="comet-items comet-items-sortable"></div><div class="comet-buttonset"><button class="comet-button comet-buttonPrimary" aria-label="'+__cometi18n.ui.addItem+'"><span class="cico cico-plus"></span><span class="comet-title">'+__cometi18n.ui.addItem+"</span></button></div>",c.appendChild(o),a.a.isObject(t)&&!a.a.isStringEmpty(t._items)&&a.a.isArray(m=r.a.ids(t._items,"array"),1))for(l=0;l<m.length;l++)(b=r.a.id(m[l]))&&(d=p().get(b,"items"))&&o.firstChild.appendChild(w.item(b,d.title));return Object(s.a)(o.lastChild.firstChild).on("click",N.add,o.firstChild),c}if(a.a.isObject(e))for(l in e)a.a.isObject(u=e[l])&&a.a.isString(u.name)&&a.a.isObject(u.fields)&&((o=n.createElement("div")).className="comet-section comet-ui",o.innerHTML='<h4 class="comet-header comet-title">'+u.name+'</h4><div class="comet-body"></div>',c.appendChild(o),o.lastChild.appendChild(w.fields(u.fields)),Object(s.a)(o.firstChild).on("click",f,o.lastChild));return c},item:function(e,t){const a=n.createElement("div");var i,r,c;return a.className="comet-item comet-item-sortable",a.dataset.id=e,i='<button class="comet-button" aria-label="'+__cometi18n.ui.sort+'"><span class="cico cico-move"></span><span class="comet-title">'+__cometi18n.ui.sort+"</span></button>",i+="<span>"+e+"</span>",i+='<button class="comet-button comet-first" aria-label="'+__cometi18n.ui.edit+'"><span class="cico cico-edit"></span><span class="comet-title">'+__cometi18n.ui.edit+"</span></button>",i+='<button class="comet-button comet-last" aria-label="'+__cometi18n.ui.delete+'"><span class="cico cico-trash"></span><span class="comet-title">'+__cometi18n.ui.delete+"</span></button>",a.innerHTML=i,r=a.children,c={id:e,target:a},Object(s.a)(r[0]).sort(N.sort(e)),Object(s.a)(r[2]).on("click",N.edit,c),Object(s.a)(r[3]).on("click",N.delete,c),a},fields:function(e){const t=n.createDocumentFragment();var i,r,s,c;if(a.a.isObject(e))for(r in e)a.a.isObject(i=e[r])&&a.a.isString(i.type)&&a.a.isString(i.label)&&(i.type=a.a.trim(a.a.stripTags(i.type.toLowerCase())),(s=n.createElement("div")).className="comet-control comet-control-"+i.type,s.innerHTML='<div class="comet-meta"></div><div class="comet-field-wrap"></div>',t.appendChild(s),c="<label>"+a.a.trim(a.a.stripTags(i.label))+"</label>",a.a.isStringEmpty(i.desc)||(c+='<span class="comet-tooltip">',c+='<span class="comet-icon">?</span>',c+='<span class="comet-description comet-inner">'+a.a.stripTags(i.desc,"<b><strong><i><a><span><sub><sup><ins>")+"</span>",c+="</span>"),s.firstChild.innerHTML=c,s.lastChild.appendChild(w.field(r,i)));return t},field:function(e,r){var l="comet-field",u="";const m={text:function(){const t=n.createElement("input");return t.type="text",t.name=e,t.className=l,t.value=u,w.update(t),t},textarea:function(){const t=n.createElement("textarea");return t.name=e,t.className=l,t.innerHTML=u,w.update(t),t},select:function(){var t,i,s;const c=n.createElement("select");if(c.name=e,c.className=l,a.a.isObject(i=r.values))for(t in i)a.a.isString(i[t])&&((s=n.createElement("option")).value=t,s.innerHTML=a.a.stripTags(i[t]),t===u&&(s.selected=!0),c.appendChild(s));return w.update(c),c},checkbox:function(){const t=n.createElement("input");return t.type="checkbox",t.name=e,t.className=l,t.value="true","true"===u&&(t.checked=!0),w.update(t),t},radio:function(){const t=function(e,t){const n=t.parentNode;var a;null===n||(a=n.children).length<1||(Object(s.a)(a).removeClass(i.active),Object(s.a)(t).addClass(i.active),v(t.firstElementChild))},c=n.createDocumentFragment();var o,l,d,m;if(a.a.isObject(l=r.values))for(d in l)a.a.isObject(l[d])&&a.a.isString(l[d].title)&&a.a.isString(l[d].icon)&&((o=n.createElement("label")).className="comet-label comet-ui"+(d===u?" "+i.active:""),c.appendChild(o),m='<input type="radio" class="comet-field" name="'+e+'"value="'+d+'" />',m+='<span class="comet-icon '+a.a.trim(a.a.stripTags(l[d].icon))+'"></span>',m+='<span class="comet-title">'+a.a.trim(a.a.stripTags(l[d].title,"<b><strong><i><span><u><ins>"))+"</span>",o.innerHTML=m,d===u&&(o.firstChild.checked=!0),Object(s.a)(o).on("click",t));return c},range:function(){const t=n.createDocumentFragment(),i=n.createElement("span"),c=n.createElement("input");return c.type="hidden",c.name=e,c.className=l,c.value=u,c.min=o.a.number({value:r.min,min:0}),c.max=o.a.number({value:r.max,min:c.min}),c.step=o.a.number({value:r.step,min:.01}),i.className="comet-unit",i.innerHTML='<span class="comet-value">'+u+"</span>"+(a.a.isString(r.unit)?a.a.stripTags(r.unit):""),t.appendChild(c),t.appendChild(i),g(c,{buttons:!0,change:function(e,t,n){var a,i,r,c;if(null!==(i=o.a.number(n.source.value))&&null!==(r=n.source.parentNode)&&!((a=r.getElementsByClassName("comet-value")).length<1)){for(c=0;c<a.length;c++)Object(s.a)(a[c]).isNode()&&(a[c].innerHTML=i);v(n.source)}}}),t},number:function(){var t,i;const s=n.createDocumentFragment(),c=n.createElement("input");return c.type="number",c.name=e,c.className=l,c.value=u,s.appendChild(c),a.a.isString(t=r.unit)&&((i=n.createElement("span")).className="comet-unit",i.innerHTML=a.a.stripTags(t),s.appendChild(i)),w.update(c),s},numbers:function(){return function(e,t,n){var i,r,c,o,l,u,m,f=!1,g="desktop";const h=document,y=a.a.isString(t.responsive)&&["true","yes"].indexOf(t.responsive.toLowerCase())>-1,O={tablet:[],mobile:[],desktop:[]},j=a.a.getNode("frame"),C="comet-active",N="comet-locked",w="cpb-devicetype-tablet",_="cpb-devicetype-mobile",E={devices:function(e,t,n){const i=Object(s.a)(h.body);var r,c,o;switch(e.preventDefault(),e.stopPropagation(),n.device){case"tablet":c="cico-tablet",j.style.maxWidth="800px",i.addClass(w);break;case"mobile":c="cico-mobile",j.style.maxWidth="400px",i.addClass(_);break;case"desktop":default:c="cico-desktop",i.removeClass(w),i.removeClass(_),b.workflow()}for(o in g=n.device,n.icon.className="cico "+c,O){if(!a.a.isArray(O[o]))return;r=Object(s.a)(O[o]),o===n.device?r.addClass(C):r.removeClass(C),f?r.addClass(N):r.removeClass(N)}},vernum:function(e,t){var n,i;for(n in e.preventDefault(),(f=!a.a.isBool(f)||!f)?(t.firstChild.className="cico cico-lock",t.title=__cometi18n.ui.locked):(t.firstChild.className="cico cico-unlock",t.title=__cometi18n.ui.unlocked),O){if(!a.a.isArray(O[n]))return;i=Object(s.a)(O[n]),n===g&&f?i.addClass(N):i.removeClass(N)}},update:function(e,t,n){var a,i,r,c,o,l,u,m;if(e.preventDefault(),n in O){if(a=parseFloat(t.value),f&&(o=(c=Object(d.a)()).id())&&(l=c.type()))for(r in u=p(),O[n])Object(s.a)(O[n][r]).isNode()&&Object(s.a)(i=O[n][r].firstChild).hasClass("comet-field")&&i!==t&&(m={},i.value=a,m[i.name]=a,u.set(o,l,m));v(t)}},get_value:function(e,t){var a="";return"std"in t&&(a=t.std),e in n&&(a=n[e]),a},number:function(e,t){var n,i,r="comet-number comet-wrapper";return e in O&&(f&&(r+=" "+N),"desktop"===e&&(r+=" "+C),(n=h.createElement("div")).className=r,n.innerHTML='<input type="number" class="comet-field" name="'+t.name+'" value="'+t.value+'" /><label>'+t.label+"</label>",Object(s.a)(n.firstChild).on("input change",E.update,e),a.a.isArray(O[e])?(i=O[e].length,O[e][i]=n):(O[e]=[],O[e][0]=n),n)}},S=h.createDocumentFragment(),x=h.createElement("div"),k=h.createElement("button");if(n=a.a.isObject(n)?n:{},k.className="comet-vernum comet-upper",k.title=__cometi18n.ui.unlocked,k.innerHTML='<span class="cico cico-unlock"></span>',Object(s.a)(k).on("click",E.vernum),S.appendChild(k),y&&((u=h.createElement("div")).className="comet-switch comet-devices comet-dropdown comet-upper",i='<span class="cico cico-desktop"></span>',i+='<div class="comet-items">',i+='<button class="comet-device" data-device="d"><span class="cico cico-desktop"></span>'+__cometi18n.ui.desktop+"</button>",i+='<button class="comet-device" data-device="t"><span class="cico cico-tablet"></span>'+__cometi18n.ui.tablet+"</button>",i+='<button class="comet-device" data-device="m"><span class="cico cico-mobile"></span>'+__cometi18n.ui.mobile+"</button>",i+="</div>",u.innerHTML=i,r=u.lastChild.children,Object(s.a)(r[0]).on("click",E.devices,{icon:u.firstChild,device:"desktop"}),Object(s.a)(r[1]).on("click",E.devices,{icon:u.firstChild,device:"tablet"}),Object(s.a)(r[2]).on("click",E.devices,{icon:u.firstChild,device:"mobile"}),S.appendChild(u)),x.className="comet-wrapper comet-numbers",S.appendChild(x),a.a.isObject(o=t.values))for(c in o)(m=E.number("desktop",{label:a.a.isString(o[c].label)?a.a.trim(a.a.stripTags(o[c].label)):"",name:l=e+c,value:E.get_value(l,o[c])}))&&(x.appendChild(m),y&&(m=E.number("tablet",{label:a.a.isString(o[c].label)?a.a.trim(a.a.stripTags(o[c].label)):"",name:l+"t",value:E.get_value(l+"t",o[c])}))&&(x.appendChild(m),(m=E.number("mobile",{label:a.a.isString(o[c].label)?a.a.trim(a.a.stripTags(o[c].label)):"",name:l+"m",value:E.get_value(l+"m",o[c])}))&&x.appendChild(m)));return S}(e,r,t)},color:function(){const t=n.createDocumentFragment(),a=n.createElement("input");return a.type="text",a.name=e,a.className=l,a.value=u,t.appendChild(a),h(a,{opacity:!0,input:!0,clear:!0,onchange:function(e,t,n){v(t)}}),t},editor:function(){var t;const i=n.createElement("textarea");return i.name=e,i.className=l+(!a.a.isStringEmpty(t=r.option)&&["advanced","force_tag"].indexOf(t=a.a.trim(t))>-1?"advanced"===t?" comet-fieldEditorAdvanced":" comet-fieldEditorForceTag":""),i.innerHTML=u,w.update(i),i},gradient:function(){const t=n.createDocumentFragment(),i=n.createElement("input");return i.type="hidden",i.name=e,i.className=l,i.value=u,t.appendChild(i),function(e,t){var n,i=!1,r=!1,l=!1;function u(e){var t,n;if(i&&r&&a.a.isObject(e)&&"range"in e&&"manager"in e)e.manager.name="delete",e.manager.innerHTML='<span class="cico cico-trash"></span>',e.manager.className="comet-eGManager comet-eGDelete";else for(t=document.getElementsByClassName("comet-eGDelete"),n=0;n<t.length;n++)Object(s.a)(t[n]).isNode()&&"button"===t[n].nodeName.toLowerCase()&&(t[n].name="add",t[n].innerHTML='<span class="cico cico-plus"></span>',t[n].className="comet-eGManager comet-eGAdd")}function d(e,n){var a=e.getElementsByClassName("comet-ui-position");if(n=parseInt(n),e.style.left="calc( "+n+"% - "+t.size/2+"px )",e.setAttribute("aria-label",n+"%"),a.length<1)return(a=document.createElement("span")).className="comet-ui-position",a.innerHTML=n+"%",void e.appendChild(a);a[0].innerHTML=n+"%"}function m(e,n,a){var c,u,m;return e.preventDefault(),e.stopPropagation(),"mousemove"===e.type&&i&&r&&(u=Object(s.a)(a.range).width())&&(c=a.range.getBoundingClientRect().left)?(m=o.a.number({value:e.pageX-c,min:0,max:u,default:0}),d(r,m/u*100),void("function"==typeof t.change&&t.change(e,n,a))):(i=!1,r=!1,void(l=!1))}function p(e,n,a){var c,o,l,u,d,m,p,f;if(e.preventDefault(),"mouseup"!==e.type){if(c=a.range.getElementsByClassName("comet-eGDragger"),o=Object(s.a)(a.range).width()-t.size,l=c.length,u=parseInt(o/l),d=0,!(l>5))for((m=document.createElement("button")).className="comet-eGDragger",a.range.appendChild(m),m.style.left=o+"px",r=!1,i=!1,(p=document.createElement("input")).type="hidden",p.value="#000000",m.appendChild(p),Object(s.a)(m).on("mousedown",b,a),g(p,a),"function"==typeof t.add&&t.add(m,a),f=0;f<l;f++)Object(s.a)(c[f]).isNode()&&(c[f].style.left=0===d?"0":d*u+"px",d++)}else"delete"===n.name&&(i&&r&&r.parentNode.getElementsByClassName("comet-eGDragger").length>2&&r.parentNode.removeChild(r),n.name="add",n.innerHTML='<span class="cico cico-plus"></span>',n.className="comet-eGManager comet-eGAdd")}function b(e,n,c){e.preventDefault(),e.stopPropagation(),a.a.isObject(c)&&Object(s.a)(c.source).isNode()&&Object(s.a)(c.range).isNode()&&(c.value=c.source.value,i=!0,r=n,l=c.source,u(c),a.a.isFunction(t.start)&&t.start(e,n,c))}function f(e,d){const m=[];var p,b,f,g;if(e.preventDefault(),i){if(r&&l&&null!==r.parentNode){for(g in p=r.parentNode,Object(s.a)(p).width(),t.size,b=p.children)(f=Object(s.a)(b[g])).isNode()&&f.hasClass("comet-eGDragger")&&(m[m.length]={stop:parseInt(b[g].getAttribute("aria-label")),color:0 in(n=b[g].getElementsByTagName("input"))?o.a.color(n[0].value):""});l.value=c.a.encode(m)}a.a.isFunction(t.onchange)&&t.onchange(l,l.value),u(),i=!1,r=!1,l=!1}}function g(e,i){h(e,{opacity:!0,input:!0,clear:!1,onchange:function(e,r,l){const u=i.range,d=(Object(s.a)(u).width(),t.size,u.children),m=[];var p,b;for(p in d)(b=Object(s.a)(d[p])).isNode()&&b.hasClass("comet-eGDragger")&&(m[m.length]={stop:parseInt(d[p].getAttribute("aria-label")),color:0 in(n=d[p].getElementsByTagName("input"))?o.a.color(n[0].value):""});i.source.value=c.a.encode(m),a.a.isFunction(t.onchange)&&t.onchange(i.source,i.source.value)}})}function v(e){const n=e.parentNode,i={};var r,l,u,f,h,v,y=c.a.decode(e.value);if(null!==n){(r=document.createElement("div")).className="comet-eGRange",(f=document.createElement("button")).className="comet-eGManager comet-eGAdd",f.name="add",f.innerHTML='<span class="cico cico-plus"></span>',n.appendChild(r),n.appendChild(f),Object(s.a)(r).width(),t.size,i.source=e,i.range=r,i.value=e.value,i.manager=f,a.a.isArray(y,2)||(y=[]),1 in y||(y[1]={stop:100,color:"#FFF"}),0 in y||(y[0]={stop:0,color:"#000"});for(h=0;h<y.length;h++)a.a.isObject(v=y[h])&&o.a.color(v.color)&&((l=document.createElement("button")).className="comet-eGDragger",d(l,v.stop),r.appendChild(l),(u=document.createElement("input")).type="hidden",u.value=y[h].color,l.appendChild(u),Object(s.a)(l).on("mousedown",b,i),g(u,i));Object(s.a)(r).on("mousemove",m,i),Object(s.a)(f).on("click mouseup",p,i)}}e&&("object"!=typeof t&&(t={}),t.size=a.a.isNumber(n=parseInt(t.size))&&!isNaN(n)?n:10,function(){var t,n,i;if((n=Object(s.a)(e)).isNode())v(e);else{if(!a.a.isObject(i=n.get())&&!a.a.isArray(i,1)||n.isView())return;for(t in e)Object(s.a)(e[t]).isNode()&&v(e[t])}Object(s.a)(document).on("mouseup",f)}())}(i,{size:20,onchange:function(e,t){v(e)}}),t},icon:function(){return function(e,t,n){var i=null,r="",c=[],o=!1;const l=document,u=l.createElement("div"),d={load:function(e){const t=l.createDocumentFragment(),n=O.a.get_set(e);var i,r,u,m;if(c=[],a.a.isObject(n)&&a.a.isObject(n.set))for(i in n.set)a.a.isStringEmpty(u=O.a.get_svg_from_data(n.set[i]))||(m=O.a.encode(e,i),(r=l.createElement("div")).className="comet-scope comet-icon comet-collection",r.innerHTML=u,t.appendChild(r),c[c.length]={id:i,name:n.set[i].name,svg:u,node:r},Object(s.a)(r).on("click",d.onclick,m));o.body.firstChild.innerHTML="",o.body.firstChild.appendChild(t)},onclick:function(e,t,n){e.preventDefault(),r=n,i.value=n,d.create(),v(i),o.destroy()},switch:function(e,t){d.load(a.a.isString(t.value)?a.a.trim(t.value):"")},search:function(e,t){const n=a.a.isString(t.value)?a.a.trim(t.value):"";var i,r,s;if(c.length<1)return!1;for(s=new RegExp(n,"i"),r=0;r<c.length;r++)a.a.isObject(i=c[r])&&a.a.isString(i.id)&&(a.a.isStringEmpty(n)||-1!==i.id.search(s)?i.node.style.display="block":i.node.style.display="none")},open:function(e,t){const n=a.a.getSvgSets();var i,r,c,u,m=!1,p=1;if(e.preventDefault(),e.stopPropagation(),a.a.isObject(n)){for(i in(r=l.createElement("div")).className="comet-searchbox",c='<select class="comet-ui comet-select">',n)a.a.isObject(n[i])&&a.a.isString(n[i].name)&&a.a.isObject(n[i].set)&&(1===p&&(m=i),c+='<option value="'+i+'">'+n[i].name+"</option>",p++);c+="</select>",c+='<input type="text" class="comet-ui comet-input" placeholder="'+__cometi18n.ui.sIcon+'"/>',r.innerHTML=c,(u=l.createElement("div")).className="comet-icons comet-set comet-wrapper",o=Object(y.a)({header:r,content:u}),d.load(m),Object(s.a)(r.firstChild).on("change",d.switch),Object(s.a)(r.lastChild).on("input",d.search)}},delete:function(e,t){e.preventDefault(),e.stopPropagation(),r="",i.value=r,d.create(),v(i)},create:function(){const e=__cometi18n.ui.browse,t=__cometi18n.ui.remove,n=u.childNodes,a=l.createElement("button"),c=O.a.decode(r),o=!!c&&O.a.get_icon(c.set_id,c.icon_id);var m=0;for(console.log(r,c,o);m<n.length;)n[m]!==i&&u.removeChild(n[m]),m++;if(!o)return a.className="comet-button comet-buttonPrimary comet-upload",a.innerHTML=e,u.appendChild(a),void Object(s.a)(a).on("click",d.open);const p=l.createElement("div");u.appendChild(p),p.className="comet-media comet-wrapper comet-icon",p.title=e,p.innerHTML=O.a.get_svg_from_data(o),Object(s.a)(p).on("click",d.open),a.className="comet-button comet-remove",a.title=t,a.innerHTML='<span class="cico cico-x"></span>',p.appendChild(a),Object(s.a)(a).on("click",d.delete)}};return n=a.a.isObject(n)?n:{},"std"in t&&(r=t.std),e in n&&(r=n[e]),r=a.a.isString(r)?a.a.trim(a.a.stripTags(r)):"",u.className="comet-uploader comet-image comet-wrapper",u.innerHTML='<input type="hidden" name="'+e+'" class="comet-field" value="'+r+'" />',i=u.firstChild,d.create(),u}(e,r,t)},image:function(){var t=null,r=a.a.isString(u)?a.a.trim(a.a.stripTags(u)):"";const c=n.createElement("div"),o={open:function(e,n){var i,s;e.preventDefault(),e.stopPropagation(),s?s.open():(i={frame:"select",title:__cometi18n.ui.selImage,library:{type:"image"},button:{text:__cometi18n.ui.select},multiple:!1,editing:!0,filterable:!0,searchable:!0,sortable:!0},(s=wp.media(i)).on("select",function(){const e=s.state().get("selection").first().toJSON();r=a.a.isString(r=e.url)&&""!==(r=a.a.trim(a.a.stripTags(r)))?r:"",t.value=r,o.create(),v(t)}),s.open())},delete:function(e,n){e.preventDefault(),e.stopPropagation(),r="",t.value=r,o.create(),v(t)},create:function(){const e=__cometi18n.ui.browse,a=__cometi18n.ui.remove,l=c.childNodes,u=n.createElement("button");for(var d=0;d<l.length;)l[d]!==t&&c.removeChild(l[d]),d++;if(""===r)return u.className="comet-button comet-buttonPrimary comet-upload",u.innerHTML=e,c.appendChild(u),void Object(s.a)(u).on("click",o.open);const m=n.createElement("div");c.appendChild(m),m.className="comet-media comet-wrapper comet-image",m.title=e,m.innerHTML='<img src="'+r+'"/>',Object(s.a)(m).on("click",o.open),u.className=i.button+" comet-remove",u.title=a,u.innerHTML='<span class="cico cico-x"></span>',m.appendChild(u),Object(s.a)(u).on("click",o.delete)}};return c.className="comet-uploader comet-image comet-wrapper",c.innerHTML='<input type="hidden" name="'+e+'" class="'+l+'" value="'+r+'" />',t=c.firstChild,o.create(),c}};return"std"in r&&(u=r.std),e in t&&(u=t[e]),!!a.a.isFunction(m[r.type])&&m[r.type]()},update:function(e){Object(s.a)(e).on("input",function(e,t){v(t)})}};return t=a.a.isObject(t)?t:{},w.tabs()};var N=C,w=n(13),_=function(e,t){const n=document,i=n.getElementById("comet-cockpit"),r=n.getElementById("comet-notifications");var c,o,l;if(!Object(s.a)(r).isNode()||!(l=Object(s.a)(i)).isNode())return!1;switch(t=parseInt(t)){case 100:t="note";break;case 200:t="success";break;case 300:t="warning";break;default:t="error"}l.addClass("is_toggled"),(c=n.createElement("div")).className="comet-notification "+t,o="<p>"+(a.a.isString(e)||a.a.isNumber(e)?a.a.stripTags(e.toString()):"")+"</p>",o+='<button class="comet-button comet-close" title="'+__cometi18n.ui.close+'" aria-label="'+__cometi18n.ui.close+'"><span class="cico cico-x"></span></button>',c.innerHTML=o,r.appendChild(c),Object(s.a)(c.lastChild).on("click",function(e,t){var n;e.preventDefault(),(n=Object(s.a)(t.parentNode)).isNode()&&n.remove()})},E=n(12),S=n(6);var x={comet:function(e,t,n){const i=a.a.getNode("frame");i&&null!==i&&((n=!!a.a.isBool(n)&&n)&&(i.innerHTML=""),Object(l.a)(e).init(i,t))}};var k={toggle:function(e){Object(s.a)(e).on("click",function(e,t){const n=a.a.getNode("cockpit");var i;if(e.preventDefault(),!n||!(i=Object(s.a)(n)).isNode())return!1;i.hasClass("is_toggled")?i.removeClass("is_toggled"):i.addClass("is_toggled")})},settings:function(e){Object(s.a)(e).on("click",function(e,t){const n=a.a.getNode("generalSettings");var i;if(e.preventDefault(),!n||!(i=Object(s.a)(n)).isNode())return!1;i.hasClass("is_toggled")?i.removeClass("is_toggled"):i.addClass("is_toggled")})},save:function(e){var t=!1;const n=document,i={toggle:function(e,t){const n=Object(s.a)(e);if(n.isNode()){if(a.a.isBool(t)&&t)return n.addClass("comet-waitwhile"),void(e.innerHTML='<span class="cico cico-spin"></span>');n.removeClass("comet-waitwhile"),e.innerHTML=__cometi18n.ui.save}},open:function(e,t){var r,c,o,l;e.preventDefault(),(c=n.createElement("div")).className="comet-savebox comet-wrapper",o="<p>"+__cometi18n.messages.stemplate+' <a href="'+a.a.escUrl("https://blacklead.fr/support/docs/comet/my-templates/")+'" target="_blank">'+__cometi18n.messages.rmtemplate+"</a>.</p>",o+='<div class="comet-saveform">',o+='<input type="text" class="comet-input comet-ui" placeholder="'+__cometi18n.ui.tempname+'" />',o+='<button class="comet-button comet-buttonPrimary" aria-label="'+__cometi18n.ui.save+'">'+__cometi18n.ui.save+"</button>",o+="</div>",c.innerHTML=o,r=Object(y.a)({classes:"comet-save-template",header:"<h4>"+__cometi18n.ui.saveTemplate+"</h4>",content:c}),l=c.lastChild,Object(s.a)(l.lastChild).on("click",i.save,{input:l.firstChild,modal:r})},save:function(e,n,r){const c=p().getData();var l,u,d,m="";if(e.preventDefault(),a.a.isObject(r)&&!t){if(t=!0,i.toggle(n,!0),Object(s.a)(r.input).isNode()||(m=__cometi18n.messages.error.savePost+"<br>"),a.a.isObject(c)&&!a.a.isStringEmpty(c._sections)||(m=__cometi18n.messages.error.noContent+"<br>"),(!a.a.isString(u=r.input.value)||(u=a.a.trim(a.a.stripTags(u))).length<1)&&(m+=__cometi18n.messages.error.title),m.length>0)return null!==n.parentNode&&null!==(d=n.parentNode.parentNode)&&((l=Object(E.a)(m,400)).remove_existing(d),l.appendTo(d)),t=!1,void i.toggle(n,!1);Object(S.a)({do:"save",data:JSON.stringify({post_title:u,meta:c,post_content:o.a.content(),post_type:"comet_mytemplates",post_status:"publish"})}).done(function(e){var a=400,s=__cometi18n.messages.error.savePost;t=!1,i.toggle(n,!1),parseInt(e)>0&&(s=__cometi18n.messages.success.savePost,a=200),r.modal.destroy(),_(s,a)})}}};Object(s.a)(e).on("click",i.open)},lib:function(e){var t=!1,n=[];const i=document,c={open:function(e,n){var a,r,o;e.preventDefault(),(a=i.createElement("div")).className="comet-searchbox",o='<select class="comet-ui comet-select">',o+='<option value="cus">'+__cometi18n.ui.mytemplates+"</option>",o+="</select>",o+='<input type="text" class="comet-ui comet-input" placeholder="'+__cometi18n.ui.sTemplate+'"/>',a.innerHTML=o,(r=i.createElement("div")).className="comet-templates comet-wrapper comet-mytemplates",t=Object(y.a)({header:a,content:r}),c.load("cus"),Object(s.a)(a.firstChild).on("change",c.switch),Object(s.a)(a.lastChild).on("input",c.search)},preview:function(e,t,n){var i,s;e.preventDefault(),a.a.isObject(n)&&(i=r.a.id(n.id))&&(s=a.a.addQueryArgs({id:i},__cometdata.preview_url),Object(y.a)({header:"<h4>"+n.title+" ("+n.id+")</h4>",content:'<iframe src="'+a.a.escUrl(s)+'"></iframe>'}))},insert:function(e,n,i){e.preventDefault(),(i=r.a.id(i))&&(Object(S.a)({id:i,meta:"true",do:"get"}).done(function(e){var t,n,i,s,c,o,l,u,d,m,b,f,g,h,v,y,O,j,C=!1;if("0"===e||!a.a.isObject(n=r.a.json(e)))return!1;if(!a.a.isObject(t=n.meta)||a.a.isStringEmpty(t._sections))return!1;if(!a.a.isObject(t.sections)||!a.a.isArray(s=r.a.ids(t._sections,"array"),1))return!1;for(d in i=0,s)if(s[d],(h=r.a.id(s[d]))&&a.a.isObject(t.sections[h])&&(n=p.create("sections","0","last",t.sections[h]))&&(0===i&&(C=n,p.removeIds(n,"sections")),!a.a.isStringEmpty(t.sections[h]._rows)&&a.a.isArray(c=r.a.ids(t.sections[h]._rows,"array"),1))){for(m in c)if((v=r.a.id(c[m]))&&a.a.isObject(t.rows[v])&&(n=p.create("rows",n,"last",t.rows[v]))&&(0===i&&p.removeIds(n,"rows"),!a.a.isStringEmpty(t.rows[v]._columns)&&a.a.isArray(o=r.a.ids(t.rows[v]._columns,"array"),1)))for(b in o)if((y=r.a.id(o[b]))&&a.a.isObject(t.columns[y])&&(n=p.create("columns",n,"last",t.columns[y]))&&(0===i&&p.removeIds(n,"columns"),!a.a.isStringEmpty(t.columns[y]._elements)&&a.a.isArray(l=r.a.ids(t.columns[y]._elements,"array"),1)))for(f in l)if((O=r.a.id(l[f]))&&a.a.isObject(t.elements[O])&&(n=p.create("elements",n,"last",t.elements[O]))&&(0===i&&p.removeIds(n,"elements"),!a.a.isStringEmpty(t.elements[O]._items)&&a.a.isArray(u=r.a.ids(t.elements[O]._items,"array"),1)))for(g in u)(j=r.a.id(u[g]))&&a.a.isObject(t.items[j])&&(n=p.create("items",n,"last",t.items[j]))&&0===i&&p.removeIds(n,"items");i++}x.comet(p.getData(),C)}),t.destroy())},search:function(e,t){const i=a.a.isString(t.value)?a.a.trim(t.value):"";var r,s;if(n.length<1)return!1;for(r=new RegExp(i,"i"),s=0;s<n.length;s++)a.a.isObject(n[s])&&(""===i||-1!==n[s].title.search(r)?n[s].node.style.display="block":n[s].node.style.display="none")},switch:function(e,t){var n;a.a.isStringEmpty(n=t.value)||["pre","cus"].indexOf(n=a.a.trim(n))<0||c.load(n)},load:function(e){if(a.a.isStringEmpty(e)||["cus","pre"].indexOf(e=a.a.trim(e))<0)return!1;Object(S.a)({do:"templates",data:e}).done(function(e){const o=t.body.firstElementChild,l=i.createDocumentFragment();var u,d,m,p,b,f,g;if("0"!==e&&null!==o&&a.a.isArray(e=r.a.json(e),1)){for(n=[],u=0;u<e.length;u++)d=e[u],(m=r.a.id(d.ID))&&(p=a.a.isString(d.post_title)?a.a.trim(d.post_title):"",(g=i.createElement("div")).className="comet-template comet-scope comet-collection",f='<figure class="comet-figure">',f+='<span class="comet-id">'+m+"</span>",f+='<div class="comet-inner comet-meta comet-abs comet-buttonset">',f+='<button class="comet-button" title="'+__cometi18n.ui.insert+'" aria-label="'+__cometi18n.ui.insert+'"><span class="cico cico-dir-download"></span></button>',f+='<button class="comet-button" title="'+__cometi18n.ui.preview+'" aria-label="'+__cometi18n.ui.preview+'"><span class="cico cico-eye"></span></button>',f+="</div>",f+="</figure>",f+='<aside class="comet-aside">'+p+"</aside>",g.innerHTML=f,l.appendChild(g),n[n.length]={id:m,title:p,node:g},b=g.firstChild.lastChild,Object(s.a)(b.firstChild).on("click",c.insert,m),Object(s.a)(b.lastChild).on("click",c.preview,{id:m,title:p}));o.innerHTML="",o.appendChild(l)}})}};Object(s.a)(e).isNode()&&Object(s.a)(e).on("click",c.open)},exit:function(e){Object(s.a)(e).on("click",function(e,t){e.preventDefault(),Object(w.a)({message:__cometi18n.messages.warning.exit,confirm:function(e,t){window.location.replace(__cometdata.dashboard_url)}})})}},T=n(10);var D={toggle:function(e){Object(s.a)(e).on("click",function(e,t){var n,i,r,c,o,l,u;if(e.preventDefault(),(n=Object(s.a)(t.parentNode)).isNode()&&(r=Object(s.a)((i=n.prop()).parentNode)).isNode())if(r.hasClass("cpb-active")){if(r.removeClass("cpb-active"),Object(s.a)(i.getElementsByClassName("comet-searchbar")).remove(),t.innerHTML='<span class="cico cico-elements"></span>',(c=document.getElementsByClassName("comet-listElement")).length>0)for(o in c)(l=Object(s.a)(c[o])).isNode()&&(l.prop().style.display="block");b.workflow()}else r.addClass("cpb-active"),t.innerHTML='<span class="cico cico-x"></span>',(u=document.createElement("input")).type="text",u.className="comet-searchbar",u.placeholder=__cometi18n.ui.sElement,i.appendChild(u),b.workflow(),Object(s.a)(u).on("input",function(e,t){const n=a.a.isString(t.value)?a.a.trim(t.value):"",i=n.length<1;var r,c,o,l,u;if(e.preventDefault(),!((r=document.getElementsByClassName("comet-listElement")).length<1))for(o in l=new RegExp(n,"i"),r)(c=Object(s.a)(r[o])).isNode()&&!a.a.isStringEmpty(u=c.prop().getAttribute("aria-label"))&&(i||-1!==u.search(l)?c.prop().style.display="inline-block":c.prop().style.display="none")})})},save:function(e){const t=document,n={catch_data:function(){const e=t.getElementById("comet-postSettings"),n=["input","select","textarea"],i=["text","number","range","hidden","date","color","checkbox","radio","email","image","file","month","password","search","tel","time","url","week"],r={};var c,o,l,u;if(!Object(s.a)(e).isNode()||"form"!==e.nodeName.toLowerCase()||(c=e.elements).length<1)return r;for(l=0;l<c.length;l++)!Object(s.a)(o=c[l]).isNode()||(u=n.indexOf(o.nodeName.toLowerCase()))<0||a.a.isStringEmpty(o.name)||0===u&&i.indexOf(o.type.toLowerCase())<0||(r[o.name]=o.value);return r},save:function(e,t){const a="cpb-disabled",i="comet-waitWhileIcon";var c,l,u,d,m=!1;function b(e){var t,n;if(e?l.addClass(a):l.removeClass(a),!m)return!1;for(t in u)(n=Object(s.a)(u[t])).isNode()&&n.hasClass("cico")&&(!e||e&&n.hasClass(i)?n.removeClass(i):n.addClass(i))}e.preventDefault(),(c=r.a.id(__cometdata.post_id))&&!(l=Object(s.a)(t)).hasClass(a)&&(m=(u=t.children).length>0,b(!0),(d=n.catch_data()).meta=p().getData(),d.post_content=o.a.content(),Object(S.a)({do:"save",id:c,data:JSON.stringify(d)}).done(function(e){var t=400,n=__cometi18n.messages.error.savePost;parseInt(e)>0&&(n=__cometi18n.messages.success.savePost,t=200),_(n,t),b(!1)}))}};Object(s.a)(e).on("click",n.save)},layout:function(e){Object(T.a)({handle:e,connectWith:"#cpb-content, .cpb-sectionContent, .cpb-rowContent",items:".cpb-row, .cpb-column, .cpb-section",placeholder:"cpb-edPlaceholder",cursor:"cpb-elementCursor",containment:"#cpb-content",stop:function(e,t,n){const a=p(),i=Object(s.a)(t);var c,o,u,d,m,b,f,g,h,v,y,O,j,C;if((g=Object(s.a)(t.parentNode)).isNode()&&i.isNode()&&(h=g.prop())){if(v={},"cpb-content"===h.id)C=N(".cpb-section"),(c=a.create("sections",0,C))&&((j=a.create("rows",c,"last"))&&(j=a.create("columns",j,"last")),v=Object(l.a)(a.getData()).section(c));else if(g.hasClass("cpb-rows")&&(c=r.a.dataset(h.parentNode,"id"))&&(c=r.a.id(c)))C=N(".cpb-row"),(o=a.create("rows",c,C))&&(j=a.create("columns",o,"last"),v=Object(l.a)(a.getData()).row(o));else if(g.hasClass("cpb-rowContent")&&(o=r.a.dataset(h.parentNode,"id"))&&(o=r.a.id(o))){if(C=N(".cpb-column"),u=a.create("columns",o,C),O=100,f=1,(d=g.children("cpb-column")).length>-1)for(y in f=d.length+1,O=Number(100/f).toFixed(2),d)(m=Object(s.a)(d[y])).isNode()&&(b=r.a.dataset(m.prop(),"id"))&&(b=r.a.id(b))&&(a.set(b,"columns",{wsize:O}),Object(l.a)(a.getData(),"css").column(b));a.set(u,"columns",{wsize:O}),h.dataset.ncol=f,v=Object(l.a)(a.getData()).column(u)}v&&t.parentNode.replaceChild(v,t)}function N(e){const t=i.next(e),n=Object(s.a)(t);var a;return n.isNode()&&(a=r.a.dataset(n.prop(),"id"))&&(a=r.a.id(a))?a:"last"}}})},element:function(e){Object(T.a)({handle:e,connectWith:".cpb-columnContent",items:".cpb-element",placeholder:"cpb-edSortPlaceholder",cursor:"cpb-elementCursor",containment:"#cpb-content",stop:function(e,t,n){const i=p(),c=Object(d.a)();var o,u,m,b,f,g,h,v,y,O,C;(h=r.a.dataset(n,"id"))&&!a.a.isStringEmpty(h)&&(h=a.a.trim(h),(g=r.a.dataset(t.parentNode.parentNode,"id"))&&(g=r.a.id(g))&&i.get(g,"columns")&&(u=Object(s.a)(t).next(".cpb-element"),f=(m=Object(s.a)(u)).isNode()&&(f=r.a.dataset(m.prop(),"id"))&&(f=r.a.id(f))?f:"last",(b=i.create(h,g,f))&&(v=Object(l.a)(i.getData()).element(b))&&((o=document.createElement("div")).appendChild(v),y=o.firstChild,t.parentNode.replaceChild(y,t),a.a.isObject(C=a.a.getElement(h))&&a.a.isObject(C.tabs)&&(O=N(C.tabs,i.get(b,h)),c.reset(),c.set({id:b,type:"elements",node:y}),j({title:__cometi18n.options.element.edit,content:"content"in O?O.content:"",tabs:"tabs"in O?O.tabs:"",close:{do:function(e,t){c.reset()}}})))))}})}};!function(e,t){const n=Object(u.a)(),i=p(),c=t.getElementById("comet-editor"),g=t.getElementById("comet-generalSettings");var h,v,y,O={},C={};const w={preload:function(){const e=t.getElementById("comet-preloader");var n=1,a=setInterval(function(){if(n<=0)return e.parentNode.removeChild(e),void clearInterval(a);n=Number(n-.1).toFixed(1),e.style.opacity=n},50)},sidebar:function(){const e=a.a.getElements(),i=t.createElement("div"),r=t.createElement("div");var s,o,l,u;if(i.id="comet-editorSidebar",i.className="comet-sidebar",a.a.isObject(e)){const n=t.createElement("div");n.className="comet-header",i.appendChild(n);const r=t.createElement("button");r.className="comet-btoggle",r.setAttribute("aria-label",__cometi18n.ui.elements),r.innerHTML='<span class="cico cico-elements"></span>',n.appendChild(r),D.toggle(r);const c=t.createElement("div");for(o in c.className="comet-listElements",i.appendChild(c),(s=t.createElement("button")).className="comet-listElement",s.setAttribute("aria-label",__cometi18n.ui.layout),s.innerHTML='<span class="cico cico-layout"></span><span class="comet-uiTitle">'+__cometi18n.ui.layout+"</span>",c.appendChild(s),D.layout(s),e)!a.a.isObject(l=e[o])||a.a.isStringEmpty(l.name)||a.a.isStringEmpty(o)||((s=t.createElement("button")).id="comet-listElement"+(o=a.a.trim(o)),s.className="comet-listElement",s.setAttribute("aria-label",l.name=a.a.trim(l.name)),s.setAttribute("data-id",o),u=a.a.isStringEmpty(l.icon)?"":'<span class="cico '+l.icon+'"></span>',u+='<span class="comet-uiTitle">'+l.name+"</span>",s.innerHTML=u,c.appendChild(s),D.element(s))}return r.className="comet-footer comet-buttonset",i.appendChild(r),(s=t.createElement("button")).className="comet-save",s.innerHTML='<span class="cico cico-update"></span><span class="comet-uiTitle">'+__cometi18n.ui.save+"</span>",r.appendChild(s),D.save(s),(s=t.createElement("button")).className="comet-btoggle",s.innerHTML='<span class="cico cico-more"></span><span class="comet-uiTitle">'+__cometi18n.cockpit.title+"</span>",r.appendChild(s),k.toggle(s),c.appendChild(i),n.set("sidebar",i,!0)},cockpit:function(){const e=t.createElement("div"),i=t.createElement("div"),r=t.createElement("div"),o=t.createElement("div"),l=t.createElement("div"),u={settings:"cico-cog",save:"cico-dir-upload",lib:"cico-directory",exit:"cico-power"};var d,m,p;for(m in e.id="comet-cockpit",e.className="comet-cockpit comet-fixfull",i.className="comet-inner",e.appendChild(i),r.className="comet-header",i.appendChild(r),r.innerHTML="<h4>"+__cometi18n.cockpit.title+"</h4>",o.id="comet-notifications",o.className="comet-notifications",i.appendChild(o),(d=t.createElement("button")).className="comet-button comet-eventToggle",d.name="to_cockpit",d.setAttribute("aria-label",__cometi18n.ui.close),d.innerHTML='<span class="cico cico-x"></span>',k.toggle(d),r.appendChild(d),p=t.createElement("p"),r.appendChild(p),(d=t.createElement("button")).id="comet-clearNotifications",d.innerHTML=__cometi18n.cockpit.clearNx,p.appendChild(d),Object(s.a)(d).on("click",function(e,t){e.preventDefault(),o.innerHTML=""}),l.className="comet-footer",i.appendChild(l),u)m in __cometi18n.cockpit.options&&((d=t.createElement("button")).className="comet-button comet-cockpitButton",d.setAttribute("aria-label",__cometi18n.cockpit.options[m]),d.innerHTML='<span class="cico '+u[m]+'"></span>',l.appendChild(d),a.a.isFunction(k[m])&&k[m](d));return(d=t.createElement("button")).className="comet-sideToggleButton comet-eventToggle",d.name="to_cockpit",k.toggle(d),e.appendChild(d),c.appendChild(e),n.set("cockpit",e,!0)},frame:function(){const e=t.createElement("div");return e.id="cpb-content",e.className="cpb cpb-content cpb-editArea cpb-backendMode",e.style.width="calc( 100% - 50px )",e.style.left="50px",c.appendChild(e),n.set("frame",e,!0)},post:function(e){var t,n,r,s,c,l;if(!(t=i.create("sections",0,"last")))return!1;if(!(t=i.create("rows",t,"last")))return!1;if(!(t=i.create("columns",t,"last")))return!1;if(!(s=function(e){var t,n,i=null,r=!1;const s=document,c="<span><br><del><u><strike><i><em><b><strong><ins><a><code><var><samp><kbd>",l=[],u={img:function(){var e;return!!r&&{img:a.a.isString(e=r.src)?a.a.trim(a.a.stripTags(e)):"",alt:a.a.isString(e=r.alt)?a.a.trim(a.a.stripTags(e)):"",cap:a.a.isString(e=r.title)?a.a.trim(a.a.stripTags(e)):"",_type:"image"}},ul:function(e){const t=[];var n,i;if(!r||(citems=r.children).length<1)return!1;for(i=0;i<citems;i++)a.a.isString(n=citems[i].nodeName)&&"li"===a.a.trim(n).toLowerCase()&&(t[t.length]={ctnt:a.a.isString(n=citems[i].innerHTML)?a.a.trim(a.a.stripTags(n,c)):""});return{sty:(e=!!a.a.isBool(e)&&e)?"decimal":"disc",_items:t,_type:"listItems"}},default:function(e){var t;return!(!r||["p","blockquote","h1","h2","h3","h4","h5","h6","pre"].indexOf(e)<0)&&{tag:e,content:a.a.isString(t=r.innerHTML)?a.a.trim(a.a.stripTags(t,c)):"",_type:"text"}},video:function(){var e;return!!r&&{type:"c",url:a.a.isString(e=r.src)?a.a.trim(a.a.stripTags(e)):"",he:o.a.number({value:r.getAttribute("height")}),wi:o.a.number({value:r.getAttribute("width")}),_type:"video"}},audio:function(){var e;return!!r&&{url:a.a.isString(e=r.src)?a.a.trim(a.a.stripTags(e)):"",_type:"audio"}}};return!a.a.isStringEmpty(e)&&(i=s.createDocumentFragment(),(t=s.createElement("div")).innerHTML=e,i.appendChild(t),["img","video","audio","p","blockquote","h1","h2","h3","h4","h5","h6","pre","ul","ol"].forEach(function(e){const i=t.getElementsByTagName(e);var s,c=0;if(!(i.length<1))for(;c<i.length;c++)r=i[c],s=a.a.trim(r.nodeName).toLowerCase(),(n="ol"===s?u.ul(!0):s in u?u[s]():u.default(s))&&(l[l.length]=n)}),l)}(e))||!a.a.isArray(s,1))return!1;for(c=0;c<s.length;c++)if("_type"in s[c]&&(r=!1,"_items"in s[c]&&(r=s[c]._items,delete s[c]._items),(n=i.create(s[c]._type,t,"last",s[c]))&&a.a.isArray(r,1)))for(l=0;l<r.length;l++)i.create("items",n,"last",r[l]);return!0}};window.Comet=Comet||{},Object(s.a)(c).isNode()&&Object(s.a)(g).isNode()&&(h=a.a.getParameters())&&"post"in h&&"action"in h&&"comet"in h&&"edit"===h.action&&a.a.isObject(__cometdata)&&"post_id"in __cometdata&&(v=r.a.id(h.post))&&(y=r.a.id(__cometdata.post_id))&&v===y?Object(S.a)({do:"data",id:__cometdata.post_id,public:!1}).done(function(e){const o=["post","settings","lib","svgSets"],u=r.a.json(e);var h,v,y=0;if(!u||!a.a.isObject(u))throw alert(__cometi18n.messages.error.failed),new Error(__cometi18n.messages.error.failed);for(h in o)(v=o[h])in u&&(n.set(v,u[v],!0),y++);if(y<4)throw alert(__cometi18n.messages.error.failed),new Error(__cometi18n.messages.error.failed);O=n.get("post"),C=i.setData(a.a.isObject(O)&&a.a.isObject(O.meta)&&!Array.isArray(O.meta)?O.meta:{}),window.onbeforeunload=function(){return __cometi18n.messages.warning.exit},n.set("editor",c,!0),n.set("generalSettings",g,!0),w.frame(),w.cockpit(),a.a.isStringEmpty(C._sections)&&w.post(O.post_content),Object(s.a)(t.body).addClass("comet-globalLevel"),x.comet(i.getData(),null,!0),k.settings("#comet-closeGeneralSettings"),w.sidebar(),w.preload(),function(){const e=document,t=window,n=["element","column","row","section"],i=["edit","move","dup","del"],c="comet-contextmenu",o="cpb-section",u="cpb-row",g="cpb-column",h="cpb-element",v={getPosition:function(n){var a=0,i=0;return n||(n=t.event),n.pageX||n.pageY?(a=n.pageX,i=n.pageY):(n.clientX||n.clientY)&&(a=n.clientX+e.body.scrollLeft+e.documentElement.scrollLeft,i=n.clientY+e.body.scrollTop+e.documentElement.scrollTop),{x:a,y:i}},getTarget:function(e){const t=Object(s.a)(e);return!!t.isNode()&&(t.hasClass(h)?{target:e,type:"element"}:t.hasClass(g)?{target:e,type:"column"}:t.hasClass(u)?{target:e,type:"row"}:t.hasClass(o)?{target:e,type:"section"}:v.getTarget(e.parentNode))},getParent:function(e,t){const n=Object(s.a)(e);return!!n.isNode()&&(n.hasClass(t)?e:v.getParent(e.parentNode,t))},preventType:function(e,t){var a;if(n.indexOf(t)<0)return!0;switch(e){case"section":a=["row","column","element"];break;case"row":a=["column","element"];break;case"column":a=["element"];break;case"element":a=[];break;default:a=n}return a.indexOf(t)>-1}},y={isMenu:function(e){return!!v.getParent(e,c)},create:function(t,n){var a,i,r;y.isMenu(t.target)||y.destroy(),"click"!==t.type&&(r=v.getTarget(t.target))&&(t.preventDefault(),i=e.createElement("div"),(a=e.createDocumentFragment()).appendChild(i),i.className=c,y.setPosition(t,i),y.setOptions(r.type,r.target,i),e.body.appendChild(a))},setOptions:function(t,i,r){const c=__cometi18n.options;var o,l,u,d;if(!a.a.isObject(c)||n.indexOf(t)<0)r.innerHTML=__cometi18n.messages.error.noMenu;else for(l in c)!a.a.isObject(d=c[l])||n.indexOf(l)<0||v.preventType(t,l)||((u=e.createElement("div")).className="comet-option",u.innerHTML="<span>"+d.title+'</span><div class="comet-items"></div>',o=u.lastChild,"edit"in d&&o.appendChild(m("edit",l,d.edit)),"move"in d&&o.appendChild(m("move",l,d.move)),"dup"in d&&o.appendChild(m("dup",l,d.dup)),"del"in d&&o.appendChild(m("del",l,d.del)),r.appendChild(u));function m(n,a,r){var c=e.createElement("button");return c.className="comet-item",c.innerHTML=r,c.dataset.role=n,"move"===n?Object(s.a)(c).sort(y.onsort(i,a)):Object(s.a)(c).on("click",y.onclick,{role:n,type:a,target:i,targetType:t}),c}},destroy:function(){Object(s.a)("."+c).remove()},setPosition:function(e,n){var a=v.getPosition(e),i=a.x,r=a.y,s=n.offsetWidth+4,c=n.offsetHeight+4,o=t.innerWidth,l=t.innerHeight;n.style.left=o-i<s?o-s+"px":i+"px",n.style.top=l-r<c?l-c+"px":r+"px"},onclick:function(e,t,n){var c;const o=p(),u=Object(d.a)(),m={section:function(){const e="sections",t=v.getParent(n.target,"cpb-section");var i,c,d;if(!t||!(i=r.a.dataset(t,"id"))||!(i=r.a.id(i)))return!1;switch(n.role){case"edit":return d=a.a.getSettingsFrom("section"),u.set({id:i,type:e,node:t}),{title:__cometi18n.options.section.edit,tabs:N(d,o.get(i,e))};case"del":return o.remove(i,e),Object(s.a)(t).remove(),!0;case"dup":return!(!(c=o.clone(i,e))||!(ret=Object(l.a)(o.getData()).section(c))||(Object(s.a)(t).after(ret),0));default:return!1}},row:function(){const e=v.getParent(n.target,"cpb-row");var t,i,c,d,m;if(!e||!(t=r.a.dataset(e,"id"))||!(t=r.a.id(t)))return!1;switch(n.role){case"edit":return m=a.a.getSettingsFrom("row"),u.set({id:t,type:"rows",node:e}),{title:__cometi18n.options.row.edit,tabs:N(m,o.get(t,"rows"))};case"del":return!!((i=v.getParent(e,"cpb-section"))&&(c=r.a.dataset(i,"id"))&&(c=r.a.id(c)))&&(o.remove(t,"rows",c),Object(s.a)(e).remove(),!0);case"dup":return!(!((i=v.getParent(e,"cpb-section"))&&(c=r.a.dataset(i,"id"))&&(c=r.a.id(c)))||!(d=o.clone(t,"rows",c))||!(ret=Object(l.a)(o.getData()).row(d))||(Object(s.a)(e).after(ret),0));default:return!1}},column:function(){const e="columns",t=v.getParent(n.target,"cpb-column");var i,c,d,m,p;if(!t||!(i=r.a.dataset(t,"id"))||!(i=r.a.id(i)))return!1;switch(n.role){case"edit":return p=a.a.getSettingsFrom("column"),u.set({id:i,type:e,node:t}),{title:__cometi18n.options.column.edit,tabs:N(p,o.get(i,e))};case"del":return!!((c=v.getParent(t,"cpb-row"))&&(d=r.a.dataset(c,"id"))&&(d=r.a.id(d)))&&(c=t.parentNode,o.remove(i,e,d),Object(s.a)(t).remove(),b.columns(c),!0);case"dup":return!(!((c=v.getParent(t,"cpb-row"))&&(d=r.a.dataset(c,"id"))&&(d=r.a.id(d)))||!(m=o.clone(i,e,d))||!(ret=Object(l.a)(o.getData()).column(m))||(Object(s.a)(t).after(ret),b.columns(t.parentNode),0));default:return!1}},element:function(){const e="elements",t=v.getParent(n.target,"cpb-element");var i,c,d,m,p,b,f;if(!t||!(i=r.a.dataset(t,"id"))||!(i=r.a.id(i)))return!1;switch(n.role){case"edit":return!(!a.a.isObject(b=o.get(i,e))||a.a.isStringEmpty(p=b._type))&&!(!a.a.isObject(f=a.a.getElement(p))||!a.a.isObject(f.tabs))&&(u.set({id:i,type:e,node:t}),{title:__cometi18n.options.element.edit,tabs:N(f.tabs,b)});case"del":return!!((c=v.getParent(t,"cpb-column"))&&(d=r.a.dataset(c,"id"))&&(d=r.a.id(d)))&&(o.remove(i,e,d),Object(s.a)(t).remove(),!0);case"dup":return!(!((c=v.getParent(t,"cpb-column"))&&(d=r.a.dataset(c,"id"))&&(d=r.a.id(d)))||!(m=o.clone(i,e,d))||!(ret=Object(l.a)(o.getData()).element(m))||(Object(s.a)(t).after(ret),0));default:return!1}}};e.preventDefault(),!a.a.isFunction(m[n.type])||i.indexOf(n.role)<0?y.destroy():a.a.isObject(c=m[n.type]())&&"tabs"in c&&"title"in c?j({title:c.title,content:"content"in c.tabs?c.tabs.content:"",tabs:"tabs"in c.tabs?c.tabs.tabs:"",close:{do:function(e,t){u.reset(),f(!0)}}}):y.destroy()},onsort:function(e,t){const n={section:{connectWith:"#cpb-content",items:".cpb-section",placeholder:"cpb-edSortPlaceholder",cursor:"cpb-elementCursor",containment:"#cpb-content",start:function(t,n){const a=v.getParent(e,o);var i;if(Object(s.a)(a).isNode()&&(i=r.a.dataset(a,"id"))&&r.a.id(i))return y.destroy(),a.style.visibility="hidden",a},stop:function(e,t,n){const a=m();var i,c,o,l;n.removeAttribute("style"),(i=r.a.dataset(n,"id"))&&(i=r.a.id(i))&&(c="last",l=Object(s.a)(t).next(".cpb-section"),c=(o=Object(s.a)(l)).isNode()&&(c=r.a.dataset(o.prop(),"id"))&&(c=r.a.id(c))?c:"last",a.remove(i,"sections",i),a.insert(i,"sections",i,c),t.parentNode.replaceChild(n,t))}},row:{connectWith:".cpb-rows",items:".cpb-row",placeholder:"cpb-edSortPlaceholder",cursor:"cpb-elementCursor",containment:"#cpb-content",start:function(t,n){const a=v.getParent(e,u);var i;if(Object(s.a)(a).isNode()&&(i=r.a.dataset(a,"id"))&&r.a.id(i))return y.destroy(),a.style.visibility="hidden",a},stop:function(e,t,n){const a=m();var i,c,l,u,d,p;Object(s.a)(n).isNode()&&(i=r.a.dataset(n,"id"))&&(i=r.a.id(i))&&(c=r.a.dataset(v.getParent(n,o),"id"))&&(c=r.a.id(c))&&(l=r.a.dataset(v.getParent(t,o),"id"))&&(l=r.a.id(l))&&(d=Object(s.a)(t).next(".cpb-row"),u=(p=Object(s.a)(d)).isNode()&&(u=r.a.dataset(p.prop(),"id"))&&(u=r.a.id(u))?u:"last",n.removeAttribute("style"),a.remove(i,"rows",c),a.insert(i,"rows",l,u),t.parentNode.replaceChild(n,t))}},column:{connectWith:".cpb-rowContent",items:".cpb-column",placeholder:"cpb-edSortPlaceholder",cursor:"cpb-elementCursor",containment:"#cpb-content",start:function(t,n){const a=v.getParent(e,g);var i;if(Object(s.a)(a).isNode()&&(i=r.a.dataset(a,"id"))&&r.a.id(i))return y.destroy(),a.style.visibility="hidden",a},stop:function(e,t,n){const a=m();var i,c,o,l,u,d,f,g;Object(s.a)(n).isNode()&&(o=r.a.dataset(n,"id"))&&(o=r.a.id(o))&&null!==(i=n.parentNode)&&(l=r.a.dataset(i.parentNode,"id"))&&(l=r.a.id(l))&&p().get(l,"rows")&&null!==(c=t.parentNode)&&(u=r.a.dataset(c.parentNode,"id"))&&(u=r.a.id(u))&&(f=Object(s.a)(t).next(".cpb-column"),d=(g=Object(s.a)(f)).isNode()&&(d=r.a.dataset(g.prop(),"id"))&&(d=r.a.id(d))?d:"last",n.removeAttribute("style"),a.remove(o,"columns",l),a.insert(o,"columns",u,d),c.replaceChild(n,t),l!==u&&(b.columns(i),b.columns(c)))}},element:{connectWith:".cpb-columnContent",items:".cpb-element",placeholder:"cpb-edSortPlaceholder",cursor:"cpb-elementCursor",containment:"#cpb-content",start:function(t,n){const a=v.getParent(e,h);var i;if(Object(s.a)(a).isNode()&&(i=r.a.dataset(a,"id"))&&r.a.id(i))return y.destroy(),a.style.visibility="hidden",a},stop:function(e,t,n){const a=m();var i,c,o,l,u,d;Object(s.a)(n).isNode()&&(i=r.a.dataset(n,"id"))&&(i=r.a.id(i))&&(c=r.a.dataset(v.getParent(n,g),"id"))&&(c=r.a.id(c))&&p().get(c,"columns")&&(o=r.a.dataset(v.getParent(t,g),"id"))&&(o=r.a.id(o))&&(u=Object(s.a)(t).next(".cpb-element"),l=(d=Object(s.a)(u)).isNode()&&(l=r.a.dataset(d.prop(),"id"))&&(l=r.a.id(l))?l:"last",n.removeAttribute("style"),a.remove(i,"elements",c),a.insert(i,"elements",o,l),t.parentNode.replaceChild(n,t))}}};return t in n?n[t]:{}}};Object(s.a)(e.documentElement).on("contextmenu click",y.create),Object(s.a)(t).on("resize",y.destroy)}()}):alert(__cometi18n.messages.error.failed)}(window,document)}]);
//# sourceMappingURL=editor.js.map